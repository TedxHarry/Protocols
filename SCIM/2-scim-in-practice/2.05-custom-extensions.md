![Cover](./covers/2.05-custom-extensions.png)

# ğŸ† Section 2.05 | SCIM in Practice | â€œCustom Extensionsâ€

The SCIM core schema and the Enterprise extension cover most identity attributes youâ€™ll need.  
But enterprises and SaaS vendors often have **unique requirements** that donâ€™t fit into the standard.  

Thatâ€™s where **Custom Extensions** come in. They let you safely extend SCIM with additional attributes **without breaking interoperability**.  

---

## ğŸ“– Why Custom Extensions Exist  

- **Every business has unique data**: license tiers, contractor types, building access badges.  
- **Vendors differentiate features**: SaaS products often have custom fields like `supportLevel`, `zoomLicense`, or `slackHandle`.  
- **Keeps SCIM future-proof**: instead of overloading existing attributes, you cleanly define your own namespace.  

ğŸ‘‰ Without custom extensions, organizations end up forcing data into the wrong fields â€” leading to confusion and brittle integrations.  

---

## ğŸ§© Defining a Custom Extension  

Like Enterprise, a custom extension is declared with a **URN (Uniform Resource Name)**.  

Best practice: use a **reverse-DNS style** so itâ€™s unique to your org or product.  

Example URN:  

```text
urn:example:params:scim:schemas:extension:custom:2.0:User
```

This avoids collisions with other vendors.  

---

## ğŸ§ª Example: Adding License & Support Attributes  

Letâ€™s say your SaaS app needs to track license tier and support level for each user.  

```json
{
  "schemas": [
    "urn:ietf:params:scim:schemas:core:2.0:User",
    "urn:example:params:scim:schemas:extension:custom:2.0:User"
  ],
  "userName": "jane.doe",
  "displayName": "Jane Doe",
  "emails": [
    { "value": "jane.doe@company.com", "type": "work", "primary": true }
  ],
  "urn:example:params:scim:schemas:extension:custom:2.0:User": {
    "licenseTier": "Enterprise",
    "supportLevel": "Premium"
  }
}
```

Here:  
- The `schemas` array includes both core + custom URNs.  
- Attributes live under the custom URN key.  
- If the SP doesnâ€™t support them, they are ignored â€” but not rejected.  

---

## âš ï¸ Common Pitfalls (and Impact)  

- âŒ **Forgetting to add the URN to `schemas`** â†’ extension attributes ignored.  
- âŒ **Poor naming conventions** â†’ attributes like `custom1`, `field2` become meaningless later.  
- âŒ **Duplicating Enterprise fields** â†’ donâ€™t redefine `department` or `manager` as custom. Use the standard ones.  
- âŒ **Assuming all SPs will persist unknown attributes** â†’ some vendors silently drop them. Test before relying.  
- âŒ **Overloading SCIM with non-identity data** â†’ keep extensions focused on identity context, not HR minutiae.  

---

## âœ… Best Practices  

- Always use **reverse-DNS style URNs** for uniqueness.  
- Document your extension schema and share it with integrators.  
- Limit attributes to those that are **stable, relevant, and critical**.  
- Reuse standard core/Enterprise attributes whenever possible â€” extend only when necessary.  
- Validate how Service Providers handle unknown attributes (ignore vs reject vs persist).  

---

## ğŸ¢ Real-World Examples  

- **Zoom** â†’ custom attribute for `zoomLicenseType`.  
- **Slack** â†’ custom attribute for `slackUserType` (e.g., guest vs full member).  
- **Internal HR system** â†’ `contractType` (full-time, part-time, contractor).  

These fields donâ€™t exist in SCIMâ€™s core spec â€” extensions make them possible.  

---

## ğŸ“ Self-Check  

1ï¸âƒ£ Why should you always use reverse-DNS style URNs for custom extensions?  
2ï¸âƒ£ What happens if you forget to include the extension URN in the `schemas` list?  
3ï¸âƒ£ Why is it a mistake to redefine Enterprise attributes as custom?  
4ï¸âƒ£ Give one example of a good use case for a custom extension.  

---

## ğŸ¯ Final Takeaway  

Custom Extensions give SCIM the flexibility to handle **unique business or vendor-specific attributes** while keeping interoperability intact.  

- Define a proper URN.  
- Always include it in the `schemas` list.  
- Use only when standard attributes donâ€™t fit.  

ğŸ’¡ Extensions make SCIM practical for real-world SaaS apps and enterprise needs â€” but they must be designed carefully to avoid clutter and confusion.  

---

## ğŸ”— Navigation  

ğŸ‘‰ Back: [2.04 Enterprise User Extension](2.04-enterprise-extension.md)  
ğŸ‘‰ Next: [2.06 HTTP Methods & CRUD Behavior](2.06-http-methods-crud.md)  
