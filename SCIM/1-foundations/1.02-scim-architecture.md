![Cover](./covers/Section1.02.png)
# ğŸ† Section 1.02 | SCIM Foundations | â€œSCIM Architectureâ€

If you understand **what SCIM is**, the next step is learning its **architecture** â€” the building blocks that make the protocol actually work. This is where theory turns into a system you can design, implement, and troubleshoot.  

---

## ğŸ“– What is SCIM Architecture?  
SCIM architecture defines **how the standard is structured** and **how different components interact** to provision and manage identities.  

At its heart, SCIM is about three things:  
- **Service Providers (SPs)** â†’ SaaS apps that consume identity (Salesforce, Slack, Zoom)  
- **Identity Providers (IdPs)** â†’ systems that manage identities (Okta, Entra ID, Ping)  
- **Schemas & Protocol** â†’ the rules and APIs that connect the two  

---

## ğŸ—ï¸ Core Components of SCIM Architecture  

### 1. **Schemas (RFC 7643)**  
Define the *shape* of identity data.  
- `User` schema â†’ login, name, email, groups  
- `Group` schema â†’ members, roles, entitlements  
- Extension schemas â†’ custom attributes like `employeeNumber` or `costCenter`  

### 2. **Protocol (RFC 7644)**  
Defines the *actions*:  
- `POST /Users` â†’ create  
- `PATCH /Users` â†’ update  
- `DELETE /Users` â†’ remove or disable  

### 3. **Endpoints**  
Service Providers expose standard endpoints:  
- `/Users`  
- `/Groups`  
- `/ServiceProviderConfig` (capabilities supported)  
- `/Schemas`  

### 4. **Flow Control**  
IdP acts as the source â†’ SCIM requests â†’ SP applies changes.  

---

## ğŸ”„ Typical Provisioning Flow  

```
HR â†’ Identity Provider â†’ SCIM API â†’ Application
```

- **Joiner** â†’ HR adds record â†’ IdP sends `POST /Users` â†’ SP creates account  
- **Mover** â†’ HR updates role â†’ IdP sends `PATCH /Users` â†’ SP updates attributes  
- **Leaver** â†’ HR termination â†’ IdP sends `PATCH active:false` â†’ SP disables account  

---

## âš™ï¸ Why SCIM Architecture Matters  
- **Consistency** â†’ apps donâ€™t need custom connectors anymore  
- **Scalability** â†’ one IdP integration can drive hundreds of apps  
- **Security** â†’ accounts deprovisioned immediately, no orphaned users  
- **Extensibility** â†’ supports both core and custom enterprise needs  

---

## ğŸ¢ Real-World Example  
Imagine a company running Workday HR + Okta as IdP, provisioning into Salesforce, Zoom, and Slack.  

- Without SCIM â†’ 3 custom connectors, mismatched attributes, errors everywhere.  
- With SCIM â†’ one schema, one protocol, multiple apps onboarded seamlessly.  

---

## âš ï¸ Common Pitfalls in Architecture  
- SPs implementing **partial SCIM** â†’ some endpoints unsupported  
- Not checking `/ServiceProviderConfig` before relying on advanced features  
- Assuming attribute mappings are identical across apps  
- Forgetting to test **error handling** (e.g., what if a PATCH fails?)  

---

## ğŸ“ Self-Check  
1ï¸âƒ£ What role do **Service Providers** play in SCIM architecture?  
2ï¸âƒ£ Which endpoint tells you the features a Service Provider supports?  
3ï¸âƒ£ Why is defining schemas important in SCIM architecture?  

---

## ğŸ¯ Final Takeaway  
SCIM architecture is the **blueprint that makes the standard work**. It defines the schemas, endpoints, and flows that let IdPs and SPs communicate consistently.  

ğŸ’¡ If SCIM itself is the â€œwhy,â€ architecture is the â€œhow.â€  

---

## ğŸ”— Navigation  
ğŸ‘‰ Back: [1.01 What is SCIM?](1.01-what-is-scim.md)  
ğŸ‘‰ Next: [1.03 Core Objects](1.03-core-objects.md)  
