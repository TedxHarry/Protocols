# 🏆 Section 2.01 | SCIM in Practice | “Core Schema Overview”

Once you understand SCIM fundamentals, the next step is to learn about its **core schema**, the backbone of how identity data is represented and exchanged. Everything in SCIM, from users to groups to extensions, builds upon this structure defined in **RFC 7643**.  

---

## 📖 What is the SCIM Core Schema?  
The SCIM **core schema** defines the standard attributes and structure for the most common identity resources. These include:  
- **User** → represents a person in an organization.  
- **Group** → represents a collection of users.  

Each SCIM resource is built on a **common set of attributes** shared across all resource types, such as `id`, `externalId`, `meta`, and `schemas`.  

---

## 🧩 The Building Blocks of Every SCIM Resource  

### 1. `schemas`  
An array listing all schemas that apply to the resource.  
It defines which data model is being used (core or extension).  

Example:  
```json
"schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"]
```

If the resource includes extensions, you’ll see more than one schema URN listed.

---

### 2. `id`

A **server-assigned unique identifier**.

* Generated by the Service Provider when the resource is created.
* Must remain stable for the lifetime of the resource.
* Read-only to the client.

---

### 3. `externalId`

A **client-assigned identifier** to map external systems to SCIM records.
Useful when integrating HR or identity sources that already have unique IDs.
Example: Workday’s employee ID can be used here.

---

### 4. `meta`

Metadata about the resource, such as creation or modification time.
Example:

```json
"meta": {
  "resourceType": "User",
  "created": "2025-01-15T04:56:22Z",
  "lastModified": "2025-02-01T11:42:55Z",
  "version": "W/\"123456\"",
  "location": "https://example.com/scim/v2/Users/2819c223"
}
```

This is crucial for auditing and version tracking.

---

### 5. `displayName` and `name` (User Resource)

These attributes define how a user’s name is represented and displayed.
Example:

```json
"name": {
  "givenName": "Jane",
  "familyName": "Doe",
  "formatted": "Jane Doe"
}
```

---

### 6. Multi-Valued Attributes

SCIM allows multiple values for attributes like emails, phone numbers, or roles.
Each item in the array may include a `type` and a `primary` flag.

Example:

```json
"emails": [
  { "value": "jane.doe@example.com", "type": "work", "primary": true },
  { "value": "jane.personal@example.com", "type": "home" }
]
```

---

## ⚙️ Why the Core Schema Matters

* **Consistency** → ensures uniform identity representation across systems.
* **Interoperability** → enables seamless data exchange between IdPs and SPs.
* **Scalability** → extensions can build on the same schema foundation.
* **Governance** → metadata fields support compliance and audit readiness.

---

## 🏢 Real-World Example

An organization provisions users from Workday into Okta using SCIM.

* Workday’s employee record becomes a SCIM **User** object.
* The user has `userName`, `emails`, and `externalId` from Workday.
* The provisioning connector uses `meta.lastModified` to detect changes and update only modified users.

This standard schema keeps HR and IT data aligned without custom APIs.

---

## ⚠️ Common Pitfalls

* Forgetting to include the `schemas` attribute → requests are rejected.
* Treating `id` as editable → it must be read-only.
* Ignoring `meta` → without versioning or timestamps, you can’t track sync changes.
* Confusing `externalId` with `id` → one is client-assigned, the other server-assigned.

---

## 📝 Self-Check

1️⃣ Why must the `schemas` attribute always be present in a SCIM resource?
2️⃣ What role does `meta.lastModified` play in provisioning systems?
3️⃣ What is the difference between `id` and `externalId` in SCIM?


---

## 🎯 Final Takeaway

The SCIM core schema is the **foundation of interoperability**. Every resource, from users to extensions, inherits from it. Understanding its structure helps you design integrations that are stable, compliant, and easy to maintain.

💡 Master the schema, and you’ll master how SCIM data moves between systems.

---

## 🔗 Navigation

👉 Back: [1.09 ServiceProviderConfig in Practice](../1-foundations/1.09-service-provider-config.md)
👉 Next: [2.02 User Schema Details](2.02-user-schema.md)
