# ğŸ† Section 2.01 | SCIM in Practice | â€œCore Schema Overviewâ€

Once you understand SCIM fundamentals, the next step is to learn about its **core schema**, the backbone of how identity data is represented and exchanged. Everything in SCIM, from users to groups to extensions, builds upon this structure defined in **RFC 7643**.  

---

## ğŸ“– What is the SCIM Core Schema?  
The SCIM **core schema** defines the standard attributes and structure for the most common identity resources. These include:  
- **User** â†’ represents a person in an organization.  
- **Group** â†’ represents a collection of users.  

Each SCIM resource is built on a **common set of attributes** shared across all resource types, such as `id`, `externalId`, `meta`, and `schemas`.  

---

## ğŸ§© The Building Blocks of Every SCIM Resource  

### 1. `schemas`  
An array listing all schemas that apply to the resource.  
It defines which data model is being used (core or extension).  

Example:  
```json
"schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"]
```

If the resource includes extensions, youâ€™ll see more than one schema URN listed.

---

### 2. `id`

A **server-assigned unique identifier**.

* Generated by the Service Provider when the resource is created.
* Must remain stable for the lifetime of the resource.
* Read-only to the client.

---

### 3. `externalId`

A **client-assigned identifier** to map external systems to SCIM records.
Useful when integrating HR or identity sources that already have unique IDs.
Example: Workdayâ€™s employee ID can be used here.

---

### 4. `meta`

Metadata about the resource, such as creation or modification time.
Example:

```json
"meta": {
  "resourceType": "User",
  "created": "2025-01-15T04:56:22Z",
  "lastModified": "2025-02-01T11:42:55Z",
  "version": "W/\"123456\"",
  "location": "https://example.com/scim/v2/Users/2819c223"
}
```

This is crucial for auditing and version tracking.

---

### 5. `displayName` and `name` (User Resource)

These attributes define how a userâ€™s name is represented and displayed.
Example:

```json
"name": {
  "givenName": "Jane",
  "familyName": "Doe",
  "formatted": "Jane Doe"
}
```

---

### 6. Multi-Valued Attributes

SCIM allows multiple values for attributes like emails, phone numbers, or roles.
Each item in the array may include a `type` and a `primary` flag.

Example:

```json
"emails": [
  { "value": "jane.doe@example.com", "type": "work", "primary": true },
  { "value": "jane.personal@example.com", "type": "home" }
]
```

---

## âš™ï¸ Why the Core Schema Matters

* **Consistency** â†’ ensures uniform identity representation across systems.
* **Interoperability** â†’ enables seamless data exchange between IdPs and SPs.
* **Scalability** â†’ extensions can build on the same schema foundation.
* **Governance** â†’ metadata fields support compliance and audit readiness.

---

## ğŸ¢ Real-World Example

An organization provisions users from Workday into Okta using SCIM.

* Workdayâ€™s employee record becomes a SCIM **User** object.
* The user has `userName`, `emails`, and `externalId` from Workday.
* The provisioning connector uses `meta.lastModified` to detect changes and update only modified users.

This standard schema keeps HR and IT data aligned without custom APIs.

---

## âš ï¸ Common Pitfalls

* Forgetting to include the `schemas` attribute â†’ requests are rejected.
* Treating `id` as editable â†’ it must be read-only.
* Ignoring `meta` â†’ without versioning or timestamps, you canâ€™t track sync changes.
* Confusing `externalId` with `id` â†’ one is client-assigned, the other server-assigned.

---

## ğŸ“ Self-Check

1ï¸âƒ£ Why must the `schemas` attribute always be present in a SCIM resource?
2ï¸âƒ£ What role does `meta.lastModified` play in provisioning systems?
3ï¸âƒ£ What is the difference between `id` and `externalId` in SCIM?


---

## ğŸ¯ Final Takeaway

The SCIM core schema is the **foundation of interoperability**. Every resource, from users to extensions, inherits from it. Understanding its structure helps you design integrations that are stable, compliant, and easy to maintain.

ğŸ’¡ Master the schema, and youâ€™ll master how SCIM data moves between systems.

---

## ğŸ”— Navigation

ğŸ‘‰ Back: [1.09 ServiceProviderConfig in Practice](../1-foundations/1.09-service-provider-config.md)
ğŸ‘‰ Next: [2.02 User Schema Details](2.02-user-schema.md)
