## 6.4.2: Role Membership Rules

### Overview
Role membership rules are the practical implementation of role assignment criteria in SailPoint ISC. This section covers how to create, configure, test, and validate role membership rules through the UI and API, ensuring roles are assigned correctly to the right identities.

**What you'll learn:**
- Creating roles with membership criteria
- Testing criteria before activation
- Validating assignment results
- Managing role properties and settings
- Troubleshooting membership issues

---

### Role Configuration Components

#### Essential Role Properties

Every role in SailPoint ISC has these core configuration elements:

**1. Basic Information**
- **Name** - Unique identifier (required)
- **Description** - Business purpose and scope (max 2000 characters)
- **Owner** - Identity responsible for the role
- **Enabled** - Controls if role is active (true/false)
- **Requestable** - Can users request this role? (true/false)

**2. Assignment Method**
- **Type** - STANDARD (criteria-based) or IDENTITY_LIST (manual)
- **Membership Criteria** - The rules for automatic assignment
- **Identity List** - Specific identity IDs (if IDENTITY_LIST type)

**3. Access Profiles**
- List of Access Profiles included in the role
- Minimum 1 Access Profile required when role is enabled
- Empty allowed only if role is disabled

**4. Approval Configuration** (if requestable = true)
- Access request approval workflow
- Revocation approval workflow
- Approval chain definition

---

### Creating a Role with Membership Criteria

#### Step-by-Step Process

**Step 1: Navigate to Role Management**
```
Admin → Roles → Create New Role
```

**Step 2: Configure Basic Information**

**Required fields:**
- **Name**: "Sales Representatives - West Region"
- **Description**: "Provides access to sales applications for all Sales department employees in Western region offices"
- **Owner**: Select responsible identity (often department manager or system owner)

**Optional fields:**
- **Enabled**: true (role is active)
- **Requestable**: false (auto-assigned only, not requestable)

**Step 3: Select Assignment Type**

**For automated assignment:**
- Choose "Standard" type
- Proceed to define membership criteria

**For manual assignment:**
- Choose "Identity List" type
- Add specific identity IDs
- Skip criteria definition

**Step 4: Define Membership Criteria**

For our example (Sales Representatives - West Region):

**Business requirement:**
Assign to all employees where:
- Department = "Sales" AND
- Region = "West"

**Criteria configuration:**
```json
{
  "operation": "AND",
  "children": [
    {
      "type": "IDENTITY",
      "key": "department",
      "operation": "EQUALS",
      "value": "Sales"
    },
    {
      "type": "IDENTITY",
      "key": "region",
      "operation": "EQUALS",
      "value": "West"
    }
  ]
}
```

**Step 5: Add Access Profiles**

Select access profiles to include:
- "Salesforce Sales User"
- "CRM Read Access"
- "Sales Shared Drive"

**Minimum 1 access profile required if enabled = true**

**Step 6: Configure Approval Workflows** (if requestable)

**Access Request Approval:**
- Approver Type: MANAGER (requester's manager)
- Fallback: OWNER (role owner if no manager)

**Revocation Request Approval:**
- Approver Type: OWNER (role owner)

**Step 7: Save and Activate**

- Review all configurations
- Click "Save"
- Role is now enabled and will assign on next identity refresh

---

### Testing Role Membership Criteria

#### Pre-Production Testing

**Critical step: ALWAYS test criteria before activating in production.**

**Method 1: Preview Functionality (UI)**

Some ISC interfaces provide role preview:
1. Configure criteria
2. Click "Preview Members" or "Test Criteria"
3. View list of identities that match
4. Validate expected vs. actual matches

**Method 2: Test in Non-Production Tenant**

Best practice workflow:
1. Create role in sandbox/dev tenant
2. Configure criteria
3. Enable role
4. Run identity refresh
5. Review assignment results
6. Export role configuration
7. Import to production after validation

**Method 3: API Testing**

Use search API to test criteria logic:
```bash
# Test identity search with same criteria
POST /v3/search
{
  "indices": ["identities"],
  "query": {
    "query": "department:Sales AND region:West"
  }
}
```

**Method 4: Disabled Role Testing**

Safe production testing:
1. Create role with criteria
2. Set enabled = false
3. Save role
4. Use API to query potential members
5. Validate results
6. Enable when confirmed correct

---

### Validating Assignment Results

#### Post-Assignment Verification

After role is enabled and identities refresh, validate assignments:

**Method 1: Role Details View**
```
Admin → Roles → [Select Role] → Members Tab
```

View all identities currently assigned the role:
- Total member count
- List of assigned identities
- Assignment date/time
- Last refresh timestamp

**Method 2: Identity View**

Check individual identities:
```
Admin → Identities → [Select Identity] → Roles Tab
```

View all roles assigned to specific identity:
- Role name
- Assignment type (auto vs. manual)
- Assignment date
- Source of assignment

**Method 3: Search API**

Query for role assignments:
```bash
# Get all identities with specific role
GET /v3/roles/{roleId}/assigned-identities

# Get specific identity's roles
GET /v3/identities/{identityId}/roles
```

**Method 4: Reporting**

Generate assignment reports:
- Role membership report
- Identity role summary
- Changes over time
- Unexpected assignments/removals

---

### Managing Role Properties

#### Enabled vs. Disabled Roles

**Enabled = true:**
- Role actively assigns to matching identities
- Criteria evaluated during identity refresh
- Access Profiles provisioned to members
- Appears in certification campaigns
- **Requires at least 1 Access Profile**

**Enabled = false:**
- Role exists but doesn't assign
- No criteria evaluation
- No provisioning occurs
- Does NOT revoke existing assignments immediately
- Can have empty Access Profiles list
- Useful for:
  - Role development/testing
  - Temporary suspension
  - Decommissioning preparation

**Disabling a role:**
1. Existing assignments remain (members keep access)
2. No new assignments on identity refresh
3. Manual revocation required to remove access
4. Re-enabling resumes assignment to matching identities

---

#### Requestable vs. Non-Requestable Roles

**Requestable = true:**
- Users can request role through self-service
- Appears in access request catalog
- Requires approval workflow configuration
- Useful for:
  - Optional capabilities
  - Temporary access needs
  - Cross-functional roles
  - Project-based access

**Requestable = false:**
- Auto-assigned only (via criteria or manual)
- Does NOT appear in request catalog
- No approval workflow needed
- Useful for:
  - Job function roles
  - Mandatory access
  - Compliance-driven roles
  - Birthright access

**Can a role be both auto-assigned AND requestable?**

**Yes!** Common hybrid pattern:
- Criteria-based assignment for standard cases
- Requestable = true for exceptions
- Example:
  - Auto-assigned to department = "Legal"
  - Also requestable by non-Legal users with approval
  - Supports both "birthright" and "exception" use cases

---

#### Role Owner Responsibilities

The **Owner** field designates the identity responsible for:

**Administrative duties:**
- Maintaining accurate role definition
- Updating membership criteria as needed
- Reviewing and approving access requests (if requestable)
- Validating access profile composition

**Governance activities:**
- Certifying role membership (who should have this role)
- Certifying role composition (what access should be in this role)
- Remediating policy violations
- Managing exception requests

**Best practices for role owners:**
- Assign to business stakeholder (not IT admin)
- Department managers for department roles
- Application owners for application-specific roles
- Governance team for cross-cutting roles
- Document ownership in role description

---

### Common Membership Rule Patterns

#### Pattern 1: Single Department Role

**Use case:** All employees in one department get same access

**Example:** "HR Staff Access"

**Criteria:**
```json
{
  "type": "IDENTITY",
  "key": "department",
  "operation": "EQUALS",
  "value": "Human Resources"
}
```

**Configuration:**
- Type: STANDARD
- Enabled: true
- Requestable: false
- Owner: HR Director

---

#### Pattern 2: Multi-Department Role

**Use case:** Multiple departments need same access

**Example:** "Finance Systems Access"

**Criteria:**
```json
{
  "operation": "OR",
  "children": [
    {
      "type": "IDENTITY",
      "key": "department",
      "operation": "EQUALS",
      "value": "Finance"
    },
    {
      "type": "IDENTITY",
      "key": "department",
      "operation": "EQUALS",
      "value": "Accounting"
    },
    {
      "type": "IDENTITY",
      "key": "department",
      "operation": "EQUALS",
      "value": "Treasury"
    }
  ]
}
```

**Configuration:**
- Type: STANDARD
- Enabled: true
- Requestable: false
- Owner: CFO

---

#### Pattern 3: Manager Role (Title-Based)

**Use case:** All people with "Manager" in title get manager access

**Example:** "Manager Portal Access"

**Criteria:**
```json
{
  "type": "IDENTITY",
  "key": "title",
  "operation": "CONTAINS",
  "value": "Manager"
}
```

**Configuration:**
- Type: STANDARD
- Enabled: true
- Requestable: false
- Owner: HR Director

**Note:** CONTAINS matches:
- "Sales Manager"
- "Engineering Manager"
- "Manager, Operations"
- "Senior Manager"

---

#### Pattern 4: Location-Specific Role

**Use case:** Access specific to one office location

**Example:** "NYC Office Systems"

**Criteria:**
```json
{
  "type": "IDENTITY",
  "key": "location",
  "operation": "EQUALS",
  "value": "New York City"
}
```

**Configuration:**
- Type: STANDARD
- Enabled: true
- Requestable: true (for remote workers temporarily in office)
- Owner: NYC Facility Manager

---

#### Pattern 5: Department + Level Role

**Use case:** Senior level within specific department

**Example:** "Senior Engineering Access"

**Criteria:**
```json
{
  "operation": "AND",
  "children": [
    {
      "type": "IDENTITY",
      "key": "department",
      "operation": "EQUALS",
      "value": "Engineering"
    },
    {
      "type": "IDENTITY",
      "key": "title",
      "operation": "STARTS_WITH",
      "value": "Senior"
    }
  ]
}
```

**Configuration:**
- Type: STANDARD
- Enabled: true
- Requestable: false
- Owner: VP Engineering

---

#### Pattern 6: Contractor Exclusion

**Use case:** Full-time employees only (exclude contractors)

**Example:** "Internal Communications Access"

**Criteria:**
```json
{
  "type": "IDENTITY",
  "key": "employeeType",
  "operation": "NOT_EQUALS",
  "value": "Contractor"
}
```

**Configuration:**
- Type: STANDARD
- Enabled: true
- Requestable: false
- Owner: Communications Director

**Alternative approach:**
```json
{
  "type": "IDENTITY",
  "key": "employeeType",
  "operation": "EQUALS",
  "value": "Full-time"
}
```

---

#### Pattern 7: Executive Team (Manual List)

**Use case:** Small, specific group without consistent attribute pattern

**Example:** "Executive Leadership Team"

**Configuration:**
```json
{
  "type": "IDENTITY_LIST",
  "identities": [
    "2c91808a7624751a01762f19d665344d",  // CEO
    "2c91808a7624751a01762f19d665355e",  // CFO
    "2c91808a7624751a01762f19d665366f",  // CTO
    "2c91808a7624751a01762f19d665377g",  // COO
    "2c91808a7624751a01762f19d665388h"   // CHRO
  ]
}
```

**Settings:**
- Type: IDENTITY_LIST
- Enabled: true
- Requestable: false
- Owner: CEO

---

#### Pattern 8: Hybrid Auto-Assign + Requestable

**Use case:** Auto-assign to primary population, allow requests from others

**Example:** "VPN Access"

**Auto-assigned criteria:**
```json
{
  "type": "IDENTITY",
  "key": "workStyle",
  "operation": "EQUALS",
  "value": "Remote"
}
```

**Configuration:**
- Type: STANDARD
- Enabled: true
- Requestable: true (office workers can request when traveling)
- Owner: IT Security Manager

**Result:**
- Remote workers get automatically
- Office workers can request with approval

---

### Role Lifecycle Management

#### Creating New Roles

**Pre-creation checklist:**
- [ ] Define clear business purpose
- [ ] Identify target population
- [ ] Determine access profiles needed
- [ ] Choose appropriate assignment method
- [ ] Define membership criteria logic
- [ ] Identify role owner
- [ ] Decide if requestable
- [ ] Plan approval workflow (if requestable)
- [ ] Document role in description field

**Creation workflow:**
1. Gather requirements from business stakeholder
2. Design criteria based on identity attributes
3. Create role in non-production tenant
4. Test criteria thoroughly
5. Validate with business stakeholder
6. Migrate to production
7. Enable and monitor initial assignments

---

#### Modifying Existing Roles

**Types of modifications:**

**1. Criteria changes:**
- Adding/removing conditions
- Changing operators (AND ↔ OR)
- Updating attribute values
- Adding exclusions

**Impact:** New identities may qualify or be removed on next refresh

**2. Access Profile changes:**
- Adding new access profiles
- Removing access profiles
- Replacing access profiles

**Impact:** All role members get updated access

**3. Property changes:**
- Enabling/disabling role
- Making requestable/non-requestable
- Changing owner
- Updating description

**Impact:** Varies by property

**Modification best practices:**
- Document reason for change
- Test in non-production first
- Communicate to affected users
- Monitor post-change for unexpected results
- Keep audit trail

---

#### Deactivating Roles

**Option 1: Disable Role**
```
Set enabled = false
```
**Effect:**
- Stops new assignments
- Existing members retain access
- Role still exists in system
- Can be re-enabled later

**Option 2: Remove All Access Profiles**
```
Empty access profiles list + Set enabled = false
```
**Effect:**
- Role becomes "shell" with no access
- Members technically have role but no actual access
- Useful for phased decommissioning

**Option 3: Delete Role**
```
Remove role entirely
```
**Effect:**
- Immediate revocation from all members
- Role removed from system
- Cannot be recovered
- Use with caution!

**Decommissioning workflow:**
1. Disable role (enabled = false)
2. Monitor for 30-60 days
3. Remove access profiles if no issues
4. Monitor for another 30 days
5. Delete role if no longer needed

---

### Troubleshooting Membership Rules

#### Issue 1: Role Not Assigning to Expected Identities

**Symptoms:**
- Identity matches criteria but doesn't get role
- Role shows 0 members when should have many

**Troubleshooting steps:**

**1. Check role enabled status**
```
Admin → Roles → [Role] → Details
Verify: enabled = true
```

**2. Verify criteria syntax**
- Check for missing required fields
- Validate sourceId for ACCOUNT/ENTITLEMENT criteria
- Confirm attribute names are correct
- Check case sensitivity of values

**3. Check identity attribute values**
```
Admin → Identities → [Identity] → Attributes
Compare actual values vs. criteria expectations
```

**4. Review last refresh timestamp**
- Criteria evaluation happens during identity refresh
- Check when identity was last aggregated
- Force manual refresh if needed

**5. Check access profiles**
- Role must have at least 1 access profile if enabled
- Verify access profiles are also enabled

**Common causes:**
- Role disabled
- Identity attributes don't exactly match (case, whitespace)
- Identity not refreshed since criteria created
- Missing sourceId in criteria
- No access profiles in role

---

#### Issue 2: Role Assigning to Wrong Identities

**Symptoms:**
- Identities without expected attributes get role
- More members than expected

**Troubleshooting steps:**

**1. Review criteria logic**
- Check for too-broad conditions
- Verify AND vs. OR operators
- Look for missing exclusions

**2. Test criteria with search**
```
Use identity search with same criteria
Identify unexpected matches
```

**3. Examine unexpected members' attributes**
```
Check attributes of identities who shouldn't have role
Find common pattern causing inclusion
```

**4. Check for NULL/missing attributes**
- NOT_EQUALS may match NULLs unexpectedly
- CONTAINS may have partial matches

**Common causes:**
- Too-broad CONTAINS operation
- Missing AND conditions
- OR when should be AND
- Case-insensitive matching needed
- NULL value handling

---

#### Issue 3: Role Assignments Not Updating

**Symptoms:**
- Criteria changed but assignments unchanged
- Identity attributes changed but role not removed

**Troubleshooting steps:**

**1. Verify identity refresh timing**
```
Admin → Identities → [Identity] → Accounts → [Source]
Check last aggregation timestamp
```

**2. Force identity refresh**
```
Admin → Identities → [Identity] → Refresh
OR
Run source aggregation
```

**3. Check role modification timestamp**
```
Admin → Roles → [Role] → Details
Verify role was actually saved
```

**4. Review identity lifecycle state**
- Some lifecycle states may prevent role changes
- Check if identity is in correct state

**Common causes:**
- Identity not refreshed after criteria change
- Source aggregation not run
- Identity in wrong lifecycle state
- Role changes not saved properly

---

#### Issue 4: Performance Issues with Complex Criteria

**Symptoms:**
- Slow identity refresh
- Timeout errors
- System performance degradation

**Troubleshooting steps:**

**1. Simplify criteria structure**
- Reduce nesting levels
- Minimize number of conditions
- Use IDENTITY criteria over ACCOUNT/ENTITLEMENT

**2. Optimize operations**
- Use EQUALS instead of CONTAINS when possible
- Limit use of pattern matching operations

**3. Consider splitting role**
- Multiple simpler roles instead of one complex role
- Separate roles for different use cases

**4. Review attribute indexing**
- Ensure frequently-used attributes are indexed
- Consult with SailPoint support for optimization

**Common causes:**
- Overly complex nested criteria
- Too many ACCOUNT/ENTITLEMENT checks
- Pattern matching on large datasets
- Non-indexed attributes in criteria

---

### Best Practices Summary

#### Design Best Practices

✅ **Start simple** - Begin with basic criteria, add complexity only when needed

✅ **Use IDENTITY attributes** - Faster and easier to maintain than ACCOUNT/ENTITLEMENT

✅ **Document thoroughly** - Clear descriptions help future administrators

✅ **Choose appropriate type** - STANDARD for scale, IDENTITY_LIST for small groups

✅ **Name descriptively** - "Sales Reps - West" better than "Role047"

✅ **Assign appropriate owner** - Business stakeholder, not IT admin

---

#### Testing Best Practices

✅ **Test before production** - Always validate in non-prod environment

✅ **Preview membership** - Check expected vs. actual matches

✅ **Start disabled** - Create with enabled=false, test, then enable

✅ **Monitor initial rollout** - Watch first few identity refreshes closely

✅ **Validate with business** - Confirm assignments match business expectations

---

#### Operational Best Practices

✅ **Regular audits** - Periodically review role membership

✅ **Track changes** - Document all criteria modifications

✅ **Monitor performance** - Watch for slow refresh or timeout issues

✅ **Plan decommissioning** - Don't leave unused roles enabled

✅ **Communicate changes** - Inform users of role assignment changes

---

### Exam Tips

**Key concepts tested:**
✅ Understanding enabled vs. disabled roles
✅ Requestable vs. non-requestable configuration
✅ Role owner responsibilities
✅ Testing methodology before production
✅ Troubleshooting assignment issues
✅ Impact of criteria changes on existing assignments

**Common exam scenarios:**
- Given business requirement, determine if role should be requestable
- Identify why role isn't assigning correctly
- Determine impact of disabling vs. deleting role
- Choose appropriate testing method for new criteria
- Fix criteria that's assigning to wrong identities

**Quick reference:**

| Property | Value | Effect |
|----------|-------|--------|
| enabled | true | Active, assigns to matching identities |
| enabled | false | Inactive, no new assignments |
| requestable | true | Appears in access request catalog |
| requestable | false | Auto-assign only, not in catalog |

**Remember:**
- Enabled roles MUST have ≥1 access profile
- Disabled roles CAN have 0 access profiles
- Requestable roles need approval workflow
- Role owner appears in approval chains
- Test ALL criteria changes before production
- Identity refresh required for criteria changes to apply

---

### Practice Exercise 1: Configure Basic Role

**Scenario:**
Create a role for "Marketing Team Access" with these requirements:
- Auto-assign to all Marketing department employees
- Include access profiles: "Marketing Apps" and "Creative Suite"
- Owned by Marketing Director (ID: 2c91808a...)
- Should NOT be requestable
- Must be active immediately

**Your task:** Define the role configuration (properties and criteria).

<details>
<summary>Click for answer</summary>

**Role Configuration:**

**Basic properties:**
```json
{
  "name": "Marketing Team Access",
  "description": "Provides access to marketing applications and creative tools for all Marketing department employees",
  "owner": {
    "type": "IDENTITY",
    "id": "2c91808a7624751a01762f19d665344d"
  },
  "enabled": true,
  "requestable": false
}
```

**Membership criteria:**
```json
{
  "type": "STANDARD",
  "membership": {
    "type": "IDENTITY",
    "key": "department",
    "operation": "EQUALS",
    "value": "Marketing"
  }
}
```

**Access profiles:**
```json
{
  "accessProfiles": [
    {
      "id": "2c91808a...",  // Marketing Apps
      "name": "Marketing Apps"
    },
    {
      "id": "2c91808b...",  // Creative Suite
      "name": "Creative Suite"
    }
  ]
}
```

**Explanation:**
- Type: STANDARD (criteria-based, not manual list)
- Simple single-condition criteria (department match)
- Enabled = true (active immediately)
- Requestable = false (auto-assign only)
- 2 access profiles included (minimum met)
- Owner set to Marketing Director
</details>

---

### Practice Exercise 2: Troubleshoot Assignment Issue

**Scenario:**
You created a role "Engineering Managers" with this criteria:
```json
{
  "operation": "AND",
  "children": [
    {
      "type": "IDENTITY",
      "key": "department",
      "operation": "EQUALS",
      "value": "engineering"
    },
    {
      "type": "IDENTITY",
      "key": "title",
      "operation": "CONTAINS",
      "value": "Manager"
    }
  ]
}
```

Role is enabled with access profiles. However, Sarah Chen (dept="Engineering", title="Engineering Manager") is NOT getting the role.

**Your task:** Identify the likely cause and solution.

<details>
<summary>Click for answer</summary>

**Problem identified:** Case sensitivity mismatch

**Issue:**
- Criteria checks for `department = "engineering"` (lowercase)
- Sarah's attribute has `department = "Engineering"` (capital E)
- EQUALS operation is case-sensitive
- No match → no role assignment

**Solution 1: Fix criteria to match actual data**
```json
{
  "type": "IDENTITY",
  "key": "department",
  "operation": "EQUALS",
  "value": "Engineering"  // Changed to match actual case
}
```

**Solution 2: Use transform to standardize case**
Create transform on department attribute:
```json
{
  "type": "lower",
  "input": {
    "type": "identityAttribute",
    "attributes": {
      "name": "department"
    }
  }
}
```
Then criteria can use lowercase consistently.

**Best practice:**
- Always verify exact case of attribute values
- Consider using transforms for case standardization
- Test criteria against real identity data
- Use CONTAINS if case varies (less precise but more forgiving)
</details>

---

### Practice Exercise 3: Design Hybrid Role

**Scenario:**
Create "Remote Work VPN Access" role with these requirements:
- Auto-assign to all employees with workLocation="Remote"
- Also allow office workers to request when traveling
- Requires manager approval for requests
- Include "VPN User" access profile
- Owned by IT Security team

**Your task:** Configure all role properties and workflows.

<details>
<summary>Click for answer</summary>

**Role Configuration:**
```json
{
  "name": "Remote Work VPN Access",
  "description": "VPN access automatically assigned to remote workers. Office workers can request for business travel with manager approval.",
  "owner": {
    "type": "IDENTITY",
    "id": "2c91808a...",  // IT Security Manager
    "name": "IT Security Manager"
  },
  "enabled": true,
  "requestable": true,  // Allow access requests
  "type": "STANDARD",
  "membership": {
    "type": "IDENTITY",
    "key": "workLocation",
    "operation": "EQUALS",
    "value": "Remote"
  },
  "accessProfiles": [
    {
      "id": "2c91808a...",
      "name": "VPN User"
    }
  ],
  "accessRequestConfig": {
    "approvalSchemes": [
      {
        "approverType": "MANAGER",
        "approverId": null  // Dynamic - requester's manager
      }
    ]
  },
  "revocationRequestConfig": {
    "approvalSchemes": [
      {
        "approverType": "OWNER",
        "approverId": null  // Role owner
      }
    ]
  }
}
```

**How it works:**

**Automatic assignment:**
- All identities with workLocation="Remote" get role automatically
- No request/approval needed
- Assigned during identity refresh

**Request-based assignment:**
- Office workers (workLocation="Office") can request
- Request goes to their manager for approval
- If approved, role is assigned
- Revocation requires role owner approval

**Benefits of hybrid approach:**
- Automation for standard case (remote workers)
- Flexibility for exceptions (travel)
- Appropriate approval gates
- Single role manages both scenarios
</details>

---

### Review Questions

1. What's the minimum number of access profiles required in an enabled role?
2. What happens to existing role assignments when you disable a role?
3. What's the difference between requestable and non-requestable roles?
4. Who typically serves as the role owner?
5. When are membership criteria evaluated?
6. How do you test criteria before activating a role in production?
7. What's the impact of changing role criteria on existing members?
8. Can a role be both auto-assigned AND requestable?

<details>
<summary>Click for answers</summary>

1. **Minimum 1 access profile** required when enabled=true. Disabled roles can have 0.

2. **Existing assignments remain** - disabling stops NEW assignments but doesn't revoke existing access. Manual revocation required.

3. **Requestable = true**: Appears in access request catalog, users can request it
   **Requestable = false**: Auto-assigned only via criteria or manual, not in catalog

4. **Business stakeholder** - department manager for dept roles, app owner for app roles, governance team for cross-cutting roles. NOT IT admin.

5. **During identity refresh/aggregation** - when source data is updated and identity attributes are recalculated

6. **Multiple methods:**
   - Create in non-prod and test
   - Use disabled role in prod
   - Preview/test functionality if available
   - API search with same criteria
   - All before setting enabled=true

7. **On next identity refresh:**
   - New criteria evaluated
   - Identities no longer matching are revoked
   - Identities newly matching are assigned
   - Changes not immediate - requires refresh

8. **Yes!** Hybrid pattern:
   - Criteria auto-assigns to standard population
   - Requestable=true allows exceptions via request
   - Common for roles like VPN access
</details>

---

### Key Takeaways

✅ **Role properties** control behavior: enabled (active), requestable (self-service), owner (responsible party)

✅ **Testing is mandatory** - Always validate criteria before production activation

✅ **Enabled roles require ≥1 access profile** - Disabled roles can be empty

✅ **Disabling ≠ Revoking** - Disabled roles stop new assignments but keep existing

✅ **Requestable enables self-service** - Users can request, requires approval workflow

✅ **Criteria changes affect members** - Evaluated on next identity refresh

✅ **Hybrid roles are valid** - Auto-assign + requestable covers both standard and exception cases

✅ **Role owner is business stakeholder** - Department managers, app owners, not IT admins

✅ **Troubleshooting starts with basics** - Check enabled, verify attributes, confirm refresh timing

---

**Next Section:** 6.4.3 - Role Configuration and Maintenance - We'll cover advanced role management including access profile composition, role hierarchies, role mining, bulk operations, and lifecycle management at scale.
