# 5.3.2 Use Cases for Each Channel

**Learning Objective:** Understand practical scenarios and use cases for each provisioning channel.

---

## Use Cases Overview

**Channel Selection by Scenario:**

| Scenario | Best Channel | Reasoning |
|----------|--------------|-----------|
| New cloud SaaS adoption | Direct API | Simple, fast, no infrastructure |
| Existing on-prem infrastructure | Virtual Appliance | Already have VA, reuse it |
| Hybrid environment (cloud + on-prem) | Mixed (Direct API + VA) | Best of both worlds |
| Legacy system with no API | Virtual Appliance (custom) | Only option for legacy |
| Multi-tenant SaaS | SCIM | Standard protocol, consistency |
| Enterprise cloud platform | Cloud Gateway | Optimized connectors |

**Exam Tip:** Channel choice depends on source location, existing infrastructure, and business requirements. Cloud = Direct API, On-prem = VA.

---

## Use Case 1: New Cloud SaaS Application

### **Scenario**

**Business Need:**
```
Company adopts Salesforce for CRM
Need to provision 500 sales employees
All new Salesforce deployment
Cloud-based solution
```

**Requirements:**
```
✓ Fast provisioning (real-time)
✓ Minimal infrastructure
✓ Easy to manage
✓ Scalable for growth
✓ Automatic updates
```

### **Recommended Channel: Direct API**

**Why Direct API:**
```
✓ Salesforce is cloud (SaaS)
✓ ISC is cloud
✓ Direct cloud-to-cloud connection
✓ No VA infrastructure needed
✓ SailPoint native connector available
✓ Real-time provisioning (seconds)
✓ Automatic connector updates
```

**Implementation:**
```
Step 1: Configure Salesforce Source
  1. Create Connected App in Salesforce
  2. Enable OAuth 2.0
  3. Grant necessary permissions
  
Step 2: Configure in ISC
  1. Add Salesforce as source
  2. Select: Direct API connection
  3. Enter OAuth credentials
  4. Test connection
  
Step 3: Configure Provisioning
  1. Enable provisioning operations (Create, Update, Disable)
  2. Map attributes (email, name, profile)
  3. Configure provisioning policies
  
Step 4: Test
  1. Test account creation
  2. Verify real-time provisioning
  3. Validate attributes
  
Step 5: Deploy
  1. Enable for all users
  2. Monitor provisioning
```

**Benefits Realized:**
```
✓ Setup time: 2-4 hours
✓ No infrastructure costs (no VA)
✓ Provisioning speed: 1-3 seconds
✓ Maintenance: Minimal (SailPoint manages connector)
✓ Scalability: Handles 500+ users easily
```

**Example Provisioning:**
```
Trigger: New sales rep hired (lifecycle: active)

1. Identity created in ISC
   Name: John Smith
   Department: Sales
   
2. Access profile assigned (Sales Rep)
   Includes: Salesforce access
   
3. ISC provisions via Direct API
   POST /services/data/v58.0/sobjects/User
   
4. Salesforce account created (2 seconds)
   Username: john.smith@company.com
   Profile: Sales Cloud User
   License: Sales Cloud
   
5. User notified
   "Your Salesforce access is ready"
```

---

## Use Case 2: On-Premises Active Directory

### **Scenario**

**Business Need:**
```
Company has on-premises Active Directory
5,000 employees across 3 locations
Primary identity store
Network segmented for security
```

**Requirements:**
```
✓ Provision AD accounts for new hires
✓ Manage group memberships
✓ No inbound firewall rules (security policy)
✓ Support multiple domain controllers
✓ Execute PowerShell commands
```

### **Recommended Channel: Virtual Appliance**

**Why Virtual Appliance:**
```
✓ AD is on-premises (not cloud)
✓ Cannot be accessed from internet
✓ Requires local network access
✓ Uses LDAP protocol
✓ Executes PowerShell locally
✓ Secure (outbound connections only)
```

**Implementation:**
```
Step 1: Deploy Virtual Appliance
  1. Install VA on Windows Server 2019+
  2. Place on corporate network (can reach DCs)
  3. Configure outbound HTTPS to ISC
  4. Register VA with ISC tenant
  
Step 2: Configure AD Connector
  1. Add Active Directory source in ISC
  2. Select: Virtual Appliance channel
  3. Choose VA: VA-PROD-01
  4. Configure domain: company.com
  5. Enter service account credentials
  6. Specify domain controllers
  
Step 3: Test Connectivity
  1. VA → ISC: Test connection
  2. VA → AD: Test LDAP connection
  3. Verify service account permissions
  
Step 4: Configure Provisioning
  1. Enable operations: Create, Update, Disable, Delete
  2. Map attributes
  3. Configure OU placement rules
  4. Set default groups
  
Step 5: Deploy
  1. Test with pilot users
  2. Enable for all employees
  3. Monitor VA performance
```

**Architecture:**
```
ISC (Cloud - AWS/Azure)
  │
  │ HTTPS (Outbound from VA)
  ↓
VA-PROD-01 (On-Prem - Corporate Network)
  │
  │ LDAP/PowerShell (Local Network)
  ↓
Domain Controllers (On-Prem)
  - dc01.company.com
  - dc02.company.com
  - dc03.company.com
```

**Security Benefits:**
```
✓ No inbound firewall rules needed
✓ VA initiates all connections (outbound)
✓ Service account has limited permissions
✓ Certificate-based authentication (VA ↔ ISC)
✓ TLS encrypted communication
✓ Audit logging of all operations
```

**Example Provisioning:**
```
Trigger: New employee starts

1. Workday aggregates to ISC
   Employee: John Smith
   Department: Sales
   Location: New York
   
2. Lifecycle: prehire → active
   Joiner workflow triggers
   
3. ISC sends provisioning to VA-PROD-01
   Operation: Create AD Account
   
4. VA receives command
   Executes locally on corporate network
   
5. VA connects to DC (dc01.company.com)
   Protocol: LDAPS (636)
   
6. VA executes PowerShell:
   New-ADUser -Name "john.smith" `
     -SamAccountName "john.smith" `
     -UserPrincipalName "john.smith@company.com" `
     -GivenName "John" `
     -Surname "Smith" `
     -DisplayName "John Smith" `
     -EmailAddress "john.smith@company.com" `
     -Department "Sales" `
     -Path "OU=Sales,OU=NewYork,OU=Users,DC=company,DC=com" `
     -AccountPassword (ConvertTo-SecureString -AsPlainText "TempPass123!" -Force) `
     -Enabled $true
     
   Add-ADGroupMember -Identity "VPN-Users" -Members "john.smith"
   Add-ADGroupMember -Identity "All-Employees" -Members "john.smith"
   Add-ADGroupMember -Identity "Sales-NY" -Members "john.smith"
   
7. AD creates account (5 seconds)
   Account: john.smith
   DN: CN=john.smith,OU=Sales,OU=NewYork,OU=Users,DC=company,DC=com
   
8. VA reports success to ISC
   Account created successfully
   
9. ISC records account
   Identity linked to AD account
```

**Scalability:**
```
Single VA Capacity:
  ✓ Handles 5,000-10,000 identities
  ✓ Processes 100-500 provisioning ops/hour
  
Multiple VAs for larger deployments:
  ✓ VA-PROD-01: New York office
  ✓ VA-PROD-02: London office
  ✓ VA-PROD-03: Tokyo office
  
  Each VA serves local domain controllers
  Load balanced across VAs
```

---

## Use Case 3: Hybrid Cloud Environment

### **Scenario**

**Business Need:**
```
Company has mixed environment:
  - Active Directory (on-premises)
  - Exchange Online (cloud)
  - Salesforce (cloud)
  - Custom HR app (on-premises)
  - ServiceNow (cloud)
  
Need unified provisioning across all systems
```

**Requirements:**
```
✓ Provision to cloud and on-prem sources
✓ Consistent user experience
✓ Minimize infrastructure where possible
✓ Optimize performance
✓ Centralized management
```

### **Recommended Channel: Mixed (Direct API + VA)**

**Why Mixed Approach:**
```
✓ Use best channel for each source
✓ Direct API for cloud (fast, simple)
✓ VA for on-premises (required)
✓ Optimal performance overall
```

**Architecture:**
```
                     ISC (Cloud)
                          │
          ┌───────────────┼───────────────┐
          │               │               │
    Direct API         VA-PROD-01    Direct API
          │               │               │
          ↓               ↓               ↓
    Salesforce           AD          Exchange
     (Cloud)         (On-Prem)        Online
                          │           (Cloud)
                          │
                          ↓
                   Custom HR App
                     (On-Prem)
```

**Channel Assignment by Source:**

| Source | Location | Channel | Reasoning |
|--------|----------|---------|-----------|
| **Active Directory** | On-prem | VA | Required for on-prem access |
| **Exchange Online** | Cloud | Direct API | Microsoft Graph API, cloud-to-cloud |
| **Salesforce** | Cloud | Direct API | Native connector, cloud-to-cloud |
| **Custom HR App** | On-prem | VA + Web Services | On-prem REST API |
| **ServiceNow** | Cloud | Direct API | SaaS, REST API available |

**Implementation:**
```
Step 1: Deploy VA for On-Premises
  1. Install VA-PROD-01
  2. Configure for AD
  3. Configure for Custom HR App (REST API)
  
Step 2: Configure Cloud Sources (Direct API)
  1. Salesforce: Direct API, OAuth
  2. Exchange Online: Direct API, Microsoft Graph
  3. ServiceNow: Direct API, Basic Auth
  
Step 3: Configure Provisioning Policies
  Each source has appropriate timing:
    - AD: Real-time (VA-based)
    - Exchange: Real-time (Direct API)
    - Salesforce: Real-time (Direct API)
    - HR App: Batch (hourly via VA)
    - ServiceNow: Real-time (Direct API)
    
Step 4: Test End-to-End
  1. Create test user
  2. Verify provisioning to all sources
  3. Check timing and performance
  
Step 5: Monitor
  1. VA health monitoring
  2. API rate limits (cloud sources)
  3. Provisioning success rates
```

**Example Multi-Source Provisioning:**
```
Trigger: New employee (John Smith) starts

Identity Profile: Employee
  cloudLifecycleState: prehire → active
  
Joiner Workflow Executes:

Provisioning Task 1: Active Directory (Via VA)
  ↓
  ISC → VA-PROD-01 → AD
  Account created: john.smith
  Duration: 5 seconds
  
Provisioning Task 2: Exchange Online (Direct API)
  ↓
  ISC → Microsoft Graph API → Exchange
  Mailbox created: john.smith@company.com
  Duration: 3 seconds
  
Provisioning Task 3: Salesforce (Direct API)
  ↓
  ISC → Salesforce API → Salesforce
  Account created: john.smith@company.com
  Duration: 2 seconds
  
Provisioning Task 4: ServiceNow (Direct API)
  ↓
  ISC → ServiceNow API → ServiceNow
  User created: john.smith
  Duration: 2 seconds
  
Provisioning Task 5: Custom HR App (Via VA)
  ↓
  ISC → VA-PROD-01 → HR App REST API
  Employee record created: EMP12345
  Duration: 3 seconds

Total Duration: ~5 seconds (parallel execution)
```

**Performance Optimization:**
```
Parallel Execution:
  ✓ All provisioning tasks run in parallel
  ✓ Not sequential (don't wait for each)
  ✓ Total time = slowest task (5 sec for AD)
  
Channel Optimization:
  ✓ Cloud sources: Direct API (1-3 sec)
  ✓ On-prem sources: VA (3-5 sec)
  ✓ Mixed approach = best overall performance
```

**Benefits:**
```
✓ Optimal performance per source
✓ Minimal infrastructure (1 VA for all on-prem)
✓ Simplified management (all in ISC)
✓ Scalable (add sources easily)
✓ Cost-effective (Direct API has no VA cost)
```

---

## Use Case 4: Legacy System Integration

### **Scenario**

**Business Need:**
```
Mainframe application (IBM AS/400)
Legacy HR database (no modern API)
Critical business system
Cannot be replaced (cost/complexity)
Need to provision user access
```

**Technical Constraints:**
```
✗ No REST API
✗ No modern protocols
✓ Has JDBC connection (database)
✓ Has SSH access (command line)
✓ On-premises only
```

**Requirements:**
```
✓ Provision user accounts
✓ Update user attributes
✓ Disable accounts on termination
✓ Minimal changes to legacy system
✓ Secure integration
```

### **Recommended Channel: Virtual Appliance (Custom Connector)**

**Why Virtual Appliance:**
```
✓ Only option for legacy systems
✓ Can connect via JDBC (database)
✓ Can execute SSH commands
✓ Can run custom scripts
✓ Flexible integration options
```

**Integration Options:**

**Option 1: JDBC Connector (Database Access)**
```
If legacy system has database:

VA Configuration:
  Connector: JDBC
  Driver: IBM DB2 (or appropriate)
  Host: mainframe.company.com
  Port: 50000
  Database: LEGACY_HR
  Schema: USERS
  
Provisioning:
  Create: INSERT INTO users (...)
  Update: UPDATE users SET ... WHERE user_id = ?
  Delete: DELETE FROM users WHERE user_id = ?
  
Example:
  INSERT INTO users (
    user_id,
    username,
    first_name,
    last_name,
    dept_code,
    status
  ) VALUES (
    SEQ_USER.NEXTVAL,
    'JSMITH',
    'JOHN',
    'SMITH',
    'SALES',
    'ACTIVE'
  );
```

**Option 2: SSH Connector (Command Line)**
```
If legacy system has command-line tools:

VA Configuration:
  Connector: SSH
  Host: mainframe.company.com
  Port: 22
  Authentication: Key-based
  
Provisioning:
  Execute system commands via SSH
  
Example:
  ssh user@mainframe "adduser JSMITH FIRSTNAME=JOHN LASTNAME=SMITH DEPT=SALES"
  ssh user@mainframe "moduser JSMITH STATUS=ACTIVE"
  ssh user@mainframe "deluser JSMITH"
```

**Option 3: File-Based Integration (Batch)**
```
If no direct access available:

Process:
  1. ISC generates CSV file via VA
  2. VA places file on SFTP server
  3. Legacy system imports file (nightly)
  4. Legacy system exports results
  5. VA reads results and reports to ISC
  
CSV Format:
  ACTION,USERNAME,FIRSTNAME,LASTNAME,DEPARTMENT
  CREATE,JSMITH,JOHN,SMITH,SALES
  UPDATE,JDOE,JANE,DOE,IT
  DELETE,BWILSON,,,
  
Limitations:
  ✗ Not real-time (batch processing)
  ✓ Works with any system (universal)
```

**Implementation Example (JDBC):**
```
Step 1: Configure JDBC Connector on VA
  1. Install JDBC driver (IBM DB2)
  2. Configure connection string
  3. Test database connectivity
  
Step 2: Configure Source in ISC
  Source Type: JDBC
  Channel: Via VA-PROD-01
  
Step 3: Define Account Schema
  Attributes:
    - user_id (Integer, Primary Key)
    - username (String, Unique)
    - first_name (String)
    - last_name (String)
    - dept_code (String)
    - status (String: ACTIVE/INACTIVE)
    
Step 4: Configure Provisioning SQL
  Create Account:
    INSERT INTO users (
      user_id, username, first_name, last_name, dept_code, status
    ) VALUES (
      SEQ_USER.NEXTVAL, ?, ?, ?, ?, 'ACTIVE'
    )
    
  Update Account:
    UPDATE users SET
      first_name = ?,
      last_name = ?,
      dept_code = ?
    WHERE username = ?
    
  Disable Account:
    UPDATE users SET
      status = 'INACTIVE'
    WHERE username = ?
    
  Delete Account:
    DELETE FROM users
    WHERE username = ?
    
Step 5: Test Provisioning
  1. Create test account
  2. Verify in database
  3. Update test account
  4. Disable test account
  5. Confirm all operations work
```

**Example Provisioning:**
```
Trigger: New employee needs mainframe access

1. ISC determines provisioning needed
   User: John Smith
   System: Legacy Mainframe
   
2. ISC sends command to VA
   Operation: Create Account
   
3. VA connects to mainframe database
   JDBC: jdbc:db2://mainframe.company.com:50000/LEGACY_HR
   
4. VA executes SQL:
   INSERT INTO users (
     user_id,
     username,
     first_name,
     last_name,
     dept_code,
     status,
     created_date
   ) VALUES (
     SEQ_USER.NEXTVAL,
     'JSMITH',
     'JOHN',
     'SMITH',
     'SALES',
     'ACTIVE',
     CURRENT_TIMESTAMP
   );
   
   COMMIT;
   
5. Database confirms:
   1 row inserted
   user_id: 98765
   
6. VA reports to ISC:
   Status: Success
   Account: JSMITH
   User ID: 98765
   
7. ISC records account:
   Identity linked to mainframe account
```

**Benefits:**
```
✓ Integrates legacy system without replacement
✓ Automated provisioning (no manual entry)
✓ Secure (VA handles authentication)
✓ Auditable (all operations logged)
✓ Extends lifecycle of legacy system
```

**Considerations:**
```
⚠ Performance: May be slower than modern APIs
⚠ Maintenance: Legacy systems may have quirks
⚠ Testing: Thorough testing required (legacy can be fragile)
⚠ Documentation: Document custom integration thoroughly
```

---

## Use Case 5: SCIM-Enabled SaaS Applications

### **Scenario**

**Business Need:**
```
Company adopts multiple SaaS collaboration tools:
  - Slack (team communication)
  - Zoom (video conferencing)
  - GitHub (code repository)
  - Atlassian (Jira, Confluence)
  
All support SCIM 2.0 standard
Need consistent provisioning across all
```

**Requirements:**
```
✓ Standardized integration
✓ Automatic user provisioning
✓ Deprovisioning on termination
✓ Group/team membership management
✓ Minimal custom configuration
```

### **Recommended Channel: Direct API (SCIM 2.0)**

**Why SCIM:**
```
✓ Industry standard protocol
✓ Consistent across all SCIM-enabled apps
✓ Simplified configuration (similar for all)
✓ Reliable and well-documented
✓ Supported by major SaaS vendors
```

**SCIM Advantages:**
```
Standard Operations:
  POST /Users - Create user
  GET /Users/{id} - Retrieve user
  PUT /Users/{id} - Update user
  PATCH /Users/{id} - Partial update
  DELETE /Users/{id} - Delete user
  
Standard Attributes:
  userName, name (givenName, familyName), emails, active
  
Consistent Implementation:
  Same API structure across Slack, Zoom, GitHub, etc.
  Configure once, replicate for others
```

**Implementation Example (Slack):**
```
Step 1: Enable SCIM in Slack
  1. Slack Admin Console
  2. Settings → Authentication
  3. Enable SCIM provisioning
  4. Generate SCIM token
  
Step 2: Configure in ISC
  Source: Slack
  Connection Type: Direct API (SCIM 2.0)
  SCIM Endpoint: https://api.slack.com/scim/v2
  Authentication: Bearer Token
  Token: [SCIM token from Slack]
  
Step 3: Map Attributes
  ISC → SCIM:
    email → userName
    firstName → name.givenName
    lastName → name.familyName
    email → emails[0].value
    cloudLifecycleState → active (true/false)
    
Step 4: Test Provisioning
  1. Create test user via SCIM
  2. Verify in Slack workspace
  3. Update user
  4. Disable user
  
Step 5: Deploy
  Enable for all users
```

**Example SCIM Provisioning (Slack):**
```
Trigger: New employee starts

1. ISC creates SCIM request
   POST https://api.slack.com/scim/v2/Users
   
2. Headers:
   Authorization: Bearer xoxp-slack-scim-token
   Content-Type: application/scim+json
   
3. Body:
   {
     "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"],
     "userName": "john.smith@company.com",
     "name": {
       "givenName": "John",
       "familyName": "Smith"
     },
     "emails": [
       {
         "value": "john.smith@company.com",
         "primary": true
       }
     ],
     "active": true
   }
   
4. Slack processes SCIM request
   Creates user in workspace
   
5. Slack responds:
   HTTP 201 Created
   {
     "id": "U012AB3CD",
     "userName": "john.smith@company.com",
     "active": true,
     "meta": {
       "resourceType": "User",
       "created": "2024-02-14T10:30:00Z"
     }
   }
   
6. ISC records account:
   Slack User: U012AB3CD
   Status: Active
```

**Replicating to Other SCIM Apps:**
```
Same SCIM configuration for:

Zoom:
  Endpoint: https://api.zoom.us/scim/v2
  Same SCIM structure
  Same attribute mappings
  
GitHub:
  Endpoint: https://api.github.com/scim/v2
  Same SCIM structure
  Same attribute mappings
  
Atlassian:
  Endpoint: https://api.atlassian.com/scim/v2
  Same SCIM structure
  Same attribute mappings

Benefit:
  Configure once in ISC
  Clone for additional SCIM apps
  Minimal customization needed
```

**Multi-App Provisioning:**
```
Trigger: New employee starts

Parallel SCIM Provisioning:

1. Slack (SCIM)
   ↓
   POST /scim/v2/Users
   User created: 2 seconds
   
2. Zoom (SCIM)
   ↓
   POST /scim/v2/Users
   User created: 2 seconds
   
3. GitHub (SCIM)
   ↓
   POST /scim/v2/Users
   User created: 2 seconds
   
4. Atlassian (SCIM)
   ↓
   POST /scim/v2/Users
   User created: 2 seconds

Total Duration: 2 seconds (parallel)
All apps provisioned simultaneously
```

**SCIM Benefits:**
```
✓ Standardization: Same API for all SCIM apps
✓ Speed: Real-time provisioning (1-3 seconds)
✓ Reliability: Industry-standard protocol
✓ Maintainability: Simple to configure and manage
✓ Scalability: Easy to add more SCIM apps
✓ Consistency: Same user experience across all apps
```

**SCIM Group Management:**
```
SCIM also supports group provisioning:

Create Group:
  POST /scim/v2/Groups
  {
    "schemas": ["urn:ietf:params:scim:schemas:core:2.0:Group"],
    "displayName": "Sales Team",
    "members": [
      {"value": "U012AB3CD"},
      {"value": "U034EF5GH"}
    ]
  }

Add Member to Group:
  PATCH /scim/v2/Groups/{id}
  {
    "Operations": [{
      "op": "add",
      "path": "members",
      "value": [{"value": "U056IJ7KL"}]
    }]
  }

Benefits:
  ✓ Automated team management
  ✓ Group-based access control
  ✓ Consistent across all SCIM apps
```

---

## Use Case 6: High-Volume Provisioning

### **Scenario**

**Business Need:**
```
Large enterprise merger/acquisition
Need to provision 10,000 users quickly
Multiple target systems
Tight timeline (1 week)
```

**Requirements:**
```
✓ Bulk provisioning capability
✓ High throughput
✓ Parallel execution
✓ Error handling and retry
✓ Progress monitoring
```

### **Recommended Channel: Mixed (Optimized for Volume)**

**Strategy:**
```
Direct API for Cloud Sources:
  ✓ Highest throughput
  ✓ Parallel execution
  ✓ No VA bottleneck
  
Multiple VAs for On-Premises:
  ✓ Load balancing
  ✓ Regional distribution
  ✓ Fault tolerance
```

**Architecture for Scale:**
```
                    ISC (Cloud)
                         │
         ┌───────────────┼───────────────┬────────────┐
         │               │               │            │
    Direct API      VA-US-01        VA-EU-01      VA-APAC-01
         │               │               │            │
         ↓               ↓               ↓            ↓
    Cloud Apps      AD (US)          AD (EU)      AD (APAC)
    - Salesforce    - 4000 users     - 3000 users - 3000 users
    - Office 365
    - ServiceNow
```

**Provisioning Strategy:**
```
Phase 1: Batch Creation (Day 1-2)
  1. Create all 10,000 identities in ISC
  2. Import from HR system (bulk)
  3. Validate data quality
  
Phase 2: Staged Provisioning (Day 3-5)
  1. Wave 1: Cloud apps (Direct API)
     - Salesforce: 10,000 users (2 hours)
     - Office 365: 10,000 users (3 hours)
     - ServiceNow: 10,000 users (1 hour)
     
  2. Wave 2: On-premises (via VAs)
     - AD (US): 4,000 users via VA-US-01 (4 hours)
     - AD (EU): 3,000 users via VA-EU-01(3 hours)
     - AD (APAC): 3,000 users via VA-APAC-01 (3 hours)
     
     Parallel execution across regions
     
Phase 3: Verification (Day 6-7)
  1. Validate all accounts created
  2. Retry failed provisioning
  3. Manual remediation if needed
```

**Performance Optimization:**
```
Cloud Sources (Direct API):
  ✓ Batch API calls (create multiple users per call)
  ✓ Parallel threads (50-100 concurrent)
  ✓ Rate limit management (respect API limits)
  
  Example - Salesforce:
    Batch size: 200 users per API call
    Concurrent batches: 50
    Throughput: 10,000 users/hour
    
On-Premises (VA):
  ✓ Multiple VAs (regional distribution)
  ✓ Each VA handles local users
  ✓ Parallel execution across VAs
  
  Example - Active Directory:
    VA-US-01: 4,000 users (1,000/hour)
    VA-EU-01: 3,000 users (1,000/hour)
    VA-APAC-01: 3,000 users (1,000/hour)
    
    Combined throughput: 3,000 users/hour
    Total time: ~4 hours (parallel)
```

**Error Handling:**
```
Retry Logic:
  ✓ Automatic retry on transient errors
  ✓ Exponential backoff
  ✓ Max retries: 3
  
Failure Management:
  ✓ Log all failures
  ✓ Generate failure report
  ✓ Manual remediation queue
  
Monitoring:
  ✓ Real-time dashboard
  ✓ Progress tracking
  ✓ Success/failure rates
  ✓ Performance metrics
```

**Results:**
```
Timeline Achieved:
  Day 1-2: Identity creation (10,000)
  Day 3: Cloud provisioning (6 hours)
  Day 4-5: On-prem provisioning (12 hours, spread over 2 days)
  Day 6-7: Verification and remediation
  
Success Rate:
  ✓ 98% success on first attempt
  ✓ 2% failed (retried and resolved)
  ✓ 100% complete by Day 7
  
Performance:
  ✓ Cloud apps: 1,500+ users/hour
  ✓ On-premises: 1,000+ users/hour per VA
  ✓ Total: ~10,000 users in 5 days
```

---

## Channel Selection Decision Tree
```
START: Need to provision to a source
  │
  ├─ Is source cloud-based (SaaS)?
  │  │
  │  ├─ YES → Does source support SCIM?
  │  │  │
  │  │  ├─ YES → Use Direct API (SCIM)
  │  │  │        Examples: Slack, Zoom, GitHub
  │  │  │
  │  │  └─ NO → Does SailPoint have native connector?
  │  │     │
  │  │     ├─ YES → Use Direct API (Native)
  │  │     │        Examples: Salesforce, ServiceNow
  │  │     │
  │  │     └─ NO → Use Direct API (Web Services)
  │  │              Examples: Custom cloud apps
  │  │
  │  └─ NO (On-Premises)
  │     │
  │     ├─ Does source have API?
  │     │  │
  │     │  ├─ YES → Use VA + Web Services
  │     │  │        Examples: Custom on-prem apps
  │     │  │
  │     │  └─ NO → What protocol?
  │     │     │
  │     │     ├─ LDAP → Use VA (LDAP Connector)
  │     │     │         Examples: Active Directory
  │     │     │
  │     │     ├─ JDBC → Use VA (JDBC Connector)
  │     │     │         Examples: Oracle, SQL Server
  │     │     │
  │     │     ├─ SSH → Use VA (SSH Connector)
  │     │     │        Examples: Unix/Linux systems
  │     │     │
  │     │     └─ None → Use VA (File-Based)
  │     │              Examples: Legacy mainframes
  │     │
  │     └─ DONE: Channel selected

RESULT: Channel selected based on source characteristics
```

---

## Section Summary

**Core Concepts for Certification:**

✅ **Use Case Categories:**
- **New cloud SaaS**: Direct API (simple, fast, no infrastructure)
- **On-premises systems**: Virtual Appliance (required for access)
- **Hybrid environment**: Mixed channels (optimize per source)
- **Legacy systems**: VA with JDBC/SSH (only option)
- **SCIM-enabled apps**: Direct API SCIM (standardized)
- **High-volume**: Multiple channels, parallel execution

✅ **Channel by Scenario:**
- **Single cloud app** → Direct API
- **Single on-prem app** → VA
- **Mixed cloud/on-prem** → Direct API + VA
- **Legacy with database** → VA + JDBC
- **Multiple SCIM apps** → Direct API SCIM (replicate config)
- **Bulk provisioning** → Multiple VAs + Direct API (parallel)

✅ **Decision Factors:**
- Source location (cloud vs. on-premises)
- Available protocols (API, LDAP, JDBC, SSH)
- Volume requirements (throughput needed)
- Existing infrastructure (reuse VA if available)
- Time to implement (Direct API faster)
- Maintenance burden (Direct API lower)

✅ **Best Practices:**
- **Cloud-first**: Use Direct API when possible
- **Reuse infrastructure**: One VA for multiple on-prem sources
- **Standardize**: SCIM for apps that support it
- **Plan for scale**: Multiple VAs for high volume
- **Monitor performance**: Track success rates and timing

**Exam Focus Areas:**
- Know when to use each channel type
- Understand cloud = Direct API preference
- Know VA required for on-premises
- Recognize SCIM as standard for SaaS
- Understand mixed approach for hybrid environments
- Know legacy systems require VA with custom connectors

---

**End of Section 5.3.2: Use Cases for Each Channel**

**Next:** Section 5.3.3: Channel Selection Criteria

---

**Study Tips:**
- Cloud SaaS → Direct API (first choice)
- On-premises → VA (only choice)
- SCIM available → Use SCIM (standard protocol)
- Legacy system → VA + JDBC/SSH (creative solutions)
- Hybrid → Mix channels (best of both)
- High volume → Multiple VAs + parallel execution
