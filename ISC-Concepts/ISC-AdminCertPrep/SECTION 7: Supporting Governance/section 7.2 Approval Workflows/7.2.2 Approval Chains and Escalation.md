### 7.2.2: Approval Chains and Escalation

### Overview
Multi-level approval chains and escalation mechanisms ensure that access requests receive appropriate oversight while maintaining efficiency. This section covers complex approval configurations, escalation paths, SLA management, reminder notifications, and strategies for handling approval bottlenecks.

**What you'll learn:**
- Multi-level approval chain configuration
- Escalation path design
- SLA configuration and monitoring
- Reminder and notification strategies
- Handling approver unavailability
- Approval performance optimization
- Complex approval scenarios

---

### Multi-Level Approval Chains

#### Two-Level Approval Configuration

**Standard two-level setup:**

**Configuration:**
```
Approval Scheme: MANAGER_OWNER
Approval Mode: SEQUENTIAL
Levels: 2

Level 1:
  Approver Type: MANAGER
  Required: Yes
  Timeout: 48 hours
  Fallback: department.director

Level 2:
  Approver Type: OWNER
  Required: Yes
  Timeout: 72 hours
  Fallback: governance.admin
```

**Flow example:**
```
Request: jane.doe requests "Salesforce Admin" role

Level 1 - Manager Approval:
  Created: Feb 15, 10:30 AM
  Assigned to: finance.manager (jane's manager)
  Notification: Email sent to finance.manager
  Due: Feb 17, 10:30 AM (48 hours)
  
  Decision: Approved
  By: finance.manager
  Time: Feb 15, 2:15 PM (3 hours 45 minutes)
  Comment: "Approved - Jane is taking over CRM admin duties"
  
Level 2 - Owner Approval:
  Created: Feb 15, 2:15 PM (immediately after Level 1 approval)
  Assigned to: crm.admin (Salesforce Admin role owner)
  Notification: Email sent to crm.admin
  Due: Feb 18, 2:15 PM (72 hours)
  
  Decision: Approved
  By: crm.admin
  Time: Feb 16, 9:00 AM (19 hours)
  Comment: "Approved - Validated prerequisites met"
  
Provisioning:
  Initiated: Feb 16, 9:00 AM (immediately after Level 2 approval)
  Completed: Feb 16, 9:15 AM
  Total approval time: ~23 hours
```

---

#### Three-Level Approval Configuration

**High-risk access scenario:**

**Configuration:**
```
Approval Scheme: MANAGER_OWNER_GOVERNANCE
Approval Mode: SEQUENTIAL
Levels: 3

Level 1:
  Approver Type: MANAGER
  Required: Yes
  Timeout: 24 hours
  Fallback: requester.manager.manager

Level 2:
  Approver Type: OWNER
  Required: Yes
  Timeout: 48 hours
  Fallback: owner.backup

Level 3:
  Approver Type: GOVERNANCE_GROUP
  Required: Yes
  Timeout: 72 hours
  Fallback: CISO
```

**Use case: Domain Admin access**
```
Request: john.smith requests "Domain Admin" role

Level 1 - Manager (Business justification):
  Question: Does this person need admin access for their job?
  Approver: it.manager
  Decision time: 2 hours
  Decision: Approved
  Comment: "Required for server maintenance project"

Level 2 - Role Owner (Technical validation):
  Question: Does person meet technical requirements?
  Approver: infrastructure.lead
  Decision time: 4 hours
  Decision: Approved
  Comment: "Validated technical skills and training completion"

Level 3 - Security Governance (Risk review):
  Question: Is risk acceptable for organization?
  Approver: Security Team (governance group)
  Decision time: 1 day
  Decision: Approved
  Comment: "Risk accepted - requires MFA, limited to 90 days"

Total approval time: ~1 day, 6 hours
All 3 levels required for this privileged access
```

---

#### Hybrid Approval Chains (Sequential + Parallel)

**Complex multi-component access:**

**Configuration:**
```
Approval Scheme: CUSTOM (Workflow-based)
Approval Mode: HYBRID

Level 1 (Sequential):
  Approver Type: MANAGER
  Required: Yes

Level 2 (Parallel):
  Approver Type: OWNER (multiple owners)
  Required: All must approve
  Mode: PARALLEL

Level 3 (Sequential):
  Approver Type: GOVERNANCE_GROUP
  Required: Yes
```

**Flow visualization:**
```
Request
  ↓
Level 1: Manager (Sequential)
  ↓
Level 2: Multiple Owners (Parallel)
  ├─→ AD Owner ────┐
  ├─→ SAP Owner ───┼─→ All must approve
  └─→ Oracle Owner ┘
  ↓
Level 3: Security Team (Sequential)
  ↓
Provision
```

**Example scenario:**
```
Request: "Enterprise Admin" role (spans 3 systems)

Level 1 - Manager:
  Time: 3 hours
  Decision: Approved

Level 2 - Application Owners (Parallel):
  AD Owner: Approved in 2 hours
  SAP Owner: Approved in 5 hours
  Oracle Owner: Approved in 4 hours
  Parallel completion time: 5 hours (longest individual)

Level 3 - Security Team:
  Time: 1 day
  Decision: Approved

Total time: 1 day, 8 hours
Hybrid approach: Faster than all-sequential (would be 1 day, 14 hours)
```

---

### Escalation Paths

#### Escalation Triggers

**Four primary escalation triggers:**

**Trigger 1: Timeout expiration**
```
Scenario:
  Work item created: Feb 15, 10:00 AM
  Due date: Feb 17, 10:00 AM (48 hours)
  Current time: Feb 17, 10:01 AM
  Status: No decision made

Action:
  Escalation triggered automatically
  Work item reassigned per escalation path
  Original approver notified of escalation
  New approver receives escalated work item
```

**Trigger 2: Approver inactive/terminated**
```
Scenario:
  Work item assigned to: former.employee
  Identity status: Inactive (terminated)
  
Detection:
  ISC checks approver status on work item creation
  Inactive status detected
  
Action:
  Skip inactive approver
  Immediately assign to fallback approver
  Log reason: "Approver inactive"
```

**Trigger 3: Approver unavailable (out of office)**
```
Scenario:
  Work item assigned to: manager.smith
  Manager status: On leave until March 1
  Out-of-office flag: Active
  
Detection:
  ISC detects OOO status (if configured)
  
Action:
  Automatically forward to delegate
  Delegate: manager.smith.delegate
  Original manager notified upon return
```

**Trigger 4: Manual escalation request**
```
Scenario:
  Approver views work item
  Realizes should be reviewed by higher authority
  
Action:
  Approver clicks "Escalate" button
  Selects escalation target
  Provides escalation reason
  Work item reassigned to escalation target
```

---

#### Escalation Path Configuration

**Path Type 1: Hierarchical escalation**
```
Configuration:
Primary approver: manager.level1
Timeout: 48 hours
First escalation: manager.level2 (approver's manager)
Second escalation: manager.level3 (director)
Final escalation: VP or governance group

Path visualization:
manager.level1 (48h timeout)
  ↓ escalate
manager.level2 (48h timeout)
  ↓ escalate
manager.level3 (48h timeout)
  ↓ escalate
VP.operations (final)
```

**Example flow:**
```
Day 0: Work item to manager.level1
Day 2: No response → Escalate to manager.level2
Day 4: No response → Escalate to manager.level3
Day 6: No response → Escalate to VP.operations
Day 6 (4 hours later): VP.operations approves

Total time: 6 days, 4 hours
Automatic escalations prevented request from stalling indefinitely
```

---

**Path Type 2: Peer-level escalation**
```
Configuration:
Primary approver: specific.owner
Timeout: 24 hours
First escalation: peer1.owner (same level)
Second escalation: peer2.owner (same level)
Final escalation: manager.owner (higher level)

Use case:
When primary owner unavailable, try peers before escalating up

Path visualization:
specific.owner (24h timeout)
  ↓ escalate
peer1.owner (24h timeout)
  ↓ escalate
peer2.owner (24h timeout)
  ↓ escalate
manager.owner (final)
```

---

**Path Type 3: Governance group escalation**
```
Configuration:
Primary approver: role.owner
Timeout: 72 hours
First escalation: governance.group
Final escalation: CISO

Use case:
Standard items to owner, escalated items to governance

Path visualization:
role.owner (72h timeout)
  ↓ escalate
governance.group (72h timeout)
  ↓ escalate
CISO (final)
```

---

### SLA Configuration and Monitoring

#### Defining Approval SLAs

**SLA components:**

**1. Target approval time**
```
Definition: Expected time for approval decision

Examples by request type:
- Low risk (VPN access): 24 hours
- Medium risk (application access): 48 hours
- High risk (admin access): 72 hours
- Critical privileged: 24 hours (expedited)

Configuration:
Request type: Standard access
SLA target: 48 hours
Measured from: Request submission
Measured to: Final approval decision
```

**2. Escalation thresholds**
```
Warning threshold: 75% of SLA (36 hours for 48h SLA)
  Action: Reminder email to approver
  
Critical threshold: 100% of SLA (48 hours)
  Action: Escalate to fallback approver
  
Overdue threshold: 125% of SLA (60 hours)
  Action: Escalate to senior management
```

**3. SLA tracking metrics**
```
Metrics calculated:
- % requests within SLA (target: >95%)
- Average approval time
- Median approval time
- % requests requiring escalation
- Approver-specific performance

Example dashboard:
┌────────────────────────────────────┐
│ Approval SLA Performance - Q1 2024│
├────────────────────────────────────┤
│ Total requests: 1,247              │
│ Within SLA: 1,189 (95.3%) ✓       │
│ SLA breached: 58 (4.7%)           │
│ Average time: 18.3 hours          │
│ Median time: 12.1 hours           │
│ Escalations: 73 (5.9%)            │
└────────────────────────────────────┘
```

---

#### SLA Configuration by Access Type

**Tiered SLA structure:**

**Tier 1: Standard access (low risk)**
```
Examples: VPN, email groups, shared drives
SLA: 24 hours
Approver: Manager only
Escalation: After 24h to manager's manager
Reminder: At 18 hours (75%)

Justification:
- Common requests
- Low security risk
- Fast approval expected
- Business productivity need
```

**Tier 2: Application access (medium risk)**
```
Examples: CRM, HR system, finance apps
SLA: 48 hours
Approver: Manager then Owner
Escalation: After 48h to governance group
Reminders: At 36h (75%) and 44h (90%)

Justification:
- Application-specific knowledge needed
- Two-level approval typical
- Moderate security concern
- More time for technical validation
```

**Tier 3: Privileged access (high risk)**
```
Examples: Admin roles, elevated permissions
SLA: 72 hours
Approver: Manager, Owner, Security Team
Escalation: After 72h to CISO
Reminders: At 48h (67%), 60h (83%), 70h (97%)

Justification:
- Multiple approval levels required
- Significant security implications
- Detailed review needed
- Compliance requirements
```

**Tier 4: Emergency access (critical priority)**
```
Examples: Production outage, critical incident
SLA: 4 hours
Approver: On-call manager or governance group
Escalation: After 2h to director, 4h to VP
Reminders: Every 1 hour

Justification:
- Business-critical situation
- Expedited approval path
- Immediate escalation
- Frequent reminders
```

---

### Reminder and Notification Strategies

#### Reminder Configuration

**Progressive reminder schedule:**

**Standard 48-hour SLA example:**
```
Hour 0: Work item created, initial notification
  Email: "New approval request - Due in 48 hours"
  
Hour 24: First reminder (50% elapsed)
  Email: "Reminder: Approval pending - 24 hours remaining"
  
Hour 36: Second reminder (75% elapsed)
  Email: "Urgent: Approval pending - 12 hours remaining"
  Priority: High
  
Hour 44: Final reminder (92% elapsed)
  Email: "Critical: Approval pending - 4 hours remaining"
  Priority: Critical
  CC: Approver's manager
  
Hour 48: SLA breach, escalation
  Email to original approver: "SLA breached, escalated"
  Email to escalation target: "Escalated approval request"
  Priority: Critical
```

---

**High-priority request reminders:**
```
Expedited schedule for urgent requests:

Hour 0: Initial notification
  Email + SMS: "Urgent approval needed"
  
Hour 2: First reminder
  Email + SMS: "Still pending - urgent"
  
Hour 4: SLA breach, escalate
  Email + SMS: "Escalated to senior management"
  Phone call: Auto-dial to escalation target
```

---

#### Notification Best Practices

**Email notification content:**

**Good notification example:**
```
Subject: Approval Needed: VPN Access for Jane Doe [24h SLA]

You have a pending approval request:

━━━━━━━━━━━━━━━━━━━━━━━━━━━━
REQUEST DETAILS
━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Request ID: AR-2024-01234
Requested By: Jane Doe (jane.doe@company.com)
Requested For: Jane Doe
Requested Item: VPN Access (Role)
Business Justification: "Need remote access for work-from-home 
                         Mondays and Fridays per new policy"

━━━━━━━━━━━━━━━━━━━━━━━━━━━━
APPROVAL INFORMATION
━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Your Role: Manager
SLA: 24 hours
Due: Feb 16, 2024 at 10:30 AM
Priority: Normal

━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ACTION REQUIRED
━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[Approve Request] [Deny Request] [View Full Details]

Questions? Contact IT Support at x5555

━━━━━━━━━━━━━━━━━━━━━━━━━━━━
This is an automated notification from Identity Security Cloud
```

**Why this works:**
- Clear subject with SLA
- All relevant information upfront
- Action buttons prominent
- Business justification visible
- Contact info provided

---

**Poor notification example:**
```
Subject: Work Item

You have a work item.

Click here to view.

Thanks
```

**Why this fails:**
- No context in subject
- No request details
- No urgency indication
- No direct action
- Unprofessional

---

### Handling Approver Unavailability

#### Unavailability Scenarios

**Scenario 1: Planned absence (vacation, sabbatical)**

**Proactive delegation:**
```
Configuration:
Approver: manager.smith
Vacation: March 1-15, 2024
Delegation: Set up in advance

Steps:
1. Manager.smith logs into ISC
2. Navigate to: My Work → Delegation
3. Configure:
   Delegate to: manager.jones
   Effective dates: March 1-15, 2024
   Scope: All work items
   Notification: Yes

Result during absence:
- New work items auto-assigned to manager.jones
- Existing work items transferred to manager.jones
- Manager.smith receives summary upon return
```

---

**Scenario 2: Unplanned absence (sick leave, emergency)**

**Automatic escalation:**
```
Detection:
- Work item created for manager.smith
- Manager.smith marked as "unavailable" (admin action)
- Or timeout expires with no response

Escalation path:
Primary: manager.smith (unavailable)
  ↓ automatic
Fallback: manager.jones (peer manager)
  ↓ if also unavailable
Escalation: director.level (senior)

Timeline:
Day 0: Assigned to manager.smith
Day 1: Admin marks manager.smith unavailable
Day 1 (2 hours later): Auto-reassigned to manager.jones
```

---

**Scenario 3: Approver terminated**

**Immediate reassignment:**
```
Trigger:
- Employee terminated
- Identity status: Inactive
- All assigned work items need reassignment

Process:
1. HR system updates identity status to "Inactive"
2. ISC detects status change
3. All pending work items identified
4. Automatic reassignment to:
   Option A: terminated.manager.manager (skip level)
   Option B: fallback approver configured for role
   Option C: governance group

Example:
Terminated: manager.smith (50 pending work items)
Reassignment: All 50 items → director.operations
Notification: Director receives batch notification
Timeline: Immediate (within 15 minutes of status change)
```

---

**Scenario 4: Role/ownership change**

**Transition handling:**
```
Scenario:
- Application owner changes from admin.old to admin.new
- Pending work items assigned to admin.old

Options:

Option 1: Transfer all work items
  Result: admin.new inherits all pending approvals
  Use: Clean transition, new owner takes over immediately

Option 2: Let admin.old complete, new gets future
  Result: admin.old completes pending, admin.new gets new items
  Use: Gradual transition, knowledge transfer period

Option 3: Split by date
  Result: Items before X date stay with admin.old
          Items after X date go to admin.new
  Use: Clear cutoff point

Best practice: Option 2 (gradual transition)
Prevents overwhelming new owner
Allows knowledge transfer
```

---

### Approval Performance Optimization

#### Reducing Approval Bottlenecks

**Strategy 1: Distribute approval workload**
```
Problem:
Single manager with 50 direct reports
All access requests go to this one manager
Bottleneck: Manager overwhelmed, slow approvals

Solutions:

Option A: Peer-level approval
  Allow peer managers to approve
  Distribute across team of 5 managers
  Each reviews ~10 reports instead of 50

Option B: Tiered approval delegation
  Low-risk requests: Auto-approve or delegate to leads
  Medium-risk: Manager approval
  High-risk: Manager + director

Option C: Governance group
  Create approval group with 3-5 members
  Any member can approve
  Workload distributed
```

---

**Strategy 2: Automate low-risk approvals**
```
Implementation:
Define low-risk criteria:
  - Standard roles (VPN, email groups)
  - Requested by employees (not contractors)
  - Risk score < 30
  - Within birthright access scope

Automation rule:
IF request meets all low-risk criteria:
  THEN auto-approve
  AND log decision: "Auto-approved - low risk"
  AND notify manager (FYI only)
ELSE:
  Route to manager for approval

Result:
- 60% of requests auto-approved
- Managers focus on non-standard access
- Faster provisioning for users
- Reduced approval workload
```

---

**Strategy 3: Parallel approvals where appropriate**
```
Before (Sequential):
Request → Manager → Owner 1 → Owner 2 → Owner 3
Total time: 4 + 6 + 8 + 5 = 23 hours

After (Parallel Level 2):
Request → Manager (4 hours)
          ↓
          ├→ Owner 1 (6 hours) ┐
          ├→ Owner 2 (8 hours) ├→ All approve
          └→ Owner 3 (5 hours) ┘
Total time: 4 + 8 = 12 hours (47% faster)

When to use:
- Owners independent (different systems)
- No dependency between approvals
- All must still approve
```

---

**Strategy 4: Optimize approval paths**
```
Analysis:
Review approval performance data:
- Which approvers have highest volume?
- Which have slowest response times?
- Where do timeouts occur most?
- Which paths have most escalations?

Optimization actions:

High volume approvers:
  → Add co-owners
  → Create approval group
  → Delegate to team members

Slow response approvers:
  → Shorter SLA timers
  → More frequent reminders
  → Escalate faster

Frequent timeouts:
  → Review fallback configuration
  → Improve escalation path
  → Better approver training

Too many escalations:
  → Adjust timeout thresholds
  → Review approver availability
  → Consider auto-approval for certain items
```

---

### Complex Approval Scenarios

#### Scenario 1: Multi-tenant approval

**Challenge:**
```
Request spans multiple business units with different approval requirements

Example:
User in Finance department requests access to:
- HR system (requires HR approval)
- Legal system (requires Legal approval)
- Finance system (requires Finance approval)

Single request, 3 different approval chains needed
```

**Solution: Parallel approval with different paths**
```
Request submitted
  ↓
  ├→ HR System path:
  │   Finance Manager → HR Director
  │
  ├→ Legal System path:
  │   Finance Manager → Legal Director
  │
  └→ Finance System path:
      Finance Manager → Finance Director

All paths must complete for provisioning
Manager approval common to all (done once)
Directors approve in parallel for their systems
```

---

#### Scenario 2: Time-sensitive emergency access

**Challenge:**
```
Production outage requires immediate admin access
Standard 48-hour approval SLA too slow
Need emergency approval process
```

**Solution: Emergency access workflow**
```
Request marked as: Emergency
Priority: Critical

Approval path:
Standard path: Manager → Owner → Security (48h SLA)
Emergency path: On-call approver (2h SLA)

Flow:
1. User selects "Emergency" flag
2. Required field: Incident number
3. Routed to on-call approver (not regular path)
4. On-call approver notified via:
   - Email
   - SMS
   - Phone call (if no response in 30 min)
5. Expedited approval or denial
6. If approved: Temporary access (4-8 hours)
7. Standard approval required for permanent access

Post-emergency:
- Audit review of all emergency approvals
- Validation that incident was legitimate
- Revoke temp access, require standard process for permanent
```

---

#### Scenario 3: Conflicting approvals

**Challenge:**
```
Request for access that violates SoD policy
Manager approves (doesn't know policy)
Security team denies (enforces policy)
Conflicting decisions
```

**Solution: Policy-enforced approval ordering**
```
Approval order designed to catch violations early:

Level 1: Policy Check (automated)
  Check: SoD policies, risk scores, conflicts
  If violation: Require policy exception approval first
  If clean: Proceed to manager

Level 2: Manager Approval
  Only sees request if no policy violations
  Approves business need

Level 3: Owner Approval
  Technical validation

This prevents manager from approving policy-violating requests
Policy checked before human approvers involved
```

---

### Exam Tips

**Key concepts tested:**
✅ Multi-level approval chain configuration
✅ Escalation triggers and paths
✅ SLA configuration and monitoring
✅ Reminder notification strategies
✅ Handling approver unavailability
✅ Sequential vs. parallel in multi-level
✅ Timeout and fallback behavior

**Common exam scenarios:**
- Design approval chain for given requirements
- Determine escalation path for timeout
- Calculate total approval time for complex chain
- Choose appropriate SLA for access type
- Troubleshoot approval bottleneck
- Configure delegation for planned absence

**Remember:**
- Multi-level = sequential levels of approvers
- Hybrid = combination of sequential and parallel
- Escalation triggers: Timeout, inactive, unavailable
- SLA varies by risk level (24h-72h typical)
- Reminders at 75%, 90% of SLA common
- Fallback approver used when primary unavailable
- Emergency access needs expedited path
- Parallel at same level faster than sequential

---

### Key Takeaways

✅ **Multi-level chains** - Two or three levels common (Manager → Owner → Security)

✅ **Hybrid approvals** - Sequential between levels, parallel within level

✅ **Escalation paths** - Hierarchical, peer-level, or governance group

✅ **SLA tiers** - 24h (standard), 48h (application), 72h (privileged), 4h (emergency)

✅ **Reminders** - Progressive schedule at 75%, 90%, 100% of SLA

✅ **Delegation** - Proactive for planned absence, automatic for unplanned

✅ **Optimization** - Distribute workload, automate low-risk, use parallel

✅ **Emergency access** - Expedited path with on-call approver, temporary access

---

**Next Section:** 7.2.3 - Work Reassignment Functionality - We'll cover manual reassignment, bulk reassignment, delegation workflows, and reassignment audit trails.
