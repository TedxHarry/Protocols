# ğŸ† Section 1.01 | Foundations | **"What is SCIM?"**

## ğŸ“Œ At a glance  
SCIM is an open standard that lets identity systems and apps create, update, and remove users and groups in a consistent way. It cuts integration cost and closes security gaps by automating provisioning and deprovisioning.

---

## ğŸ“– What is SCIM?  
SCIM is an IETF standard that defines a common schema and a RESTful API for identity lifecycle actions across systems. Identity providers (Okta, Entra ID, SailPoint) call service providers (Slack, Zoom, GitHub) using JSON requests to keep accounts in sync during joiner, mover, and leaver events.

**ğŸ”„ One-glance flow**
```text
HR System â†’ IdP (Okta / Entra / SailPoint) â†’ SCIM API â†’ SaaS App
   Hire        create/update user/event        POST/PUT/PATCH      account created/updated
```

> **Note (worth keeping):** SCIM is defined by **RFC 7643** (Schema) and **RFC 7644** (Protocol). Vendors often vary on details such as **PATCH** behavior, supported filters, and custom attributes, so you should always test those parts early.

---

## â— Problem before SCIM  
- Every app had its own user API or none at all, so teams built and maintained many custom connectors.  
- Onboarding and offboarding were slow and error-prone.  
- Missed deprovisioning left orphaned accounts and audit findings.

---

## ğŸ”‘ Key characteristics  
- **REST + JSON**, easy to implement and debug.  
- **Core objects: Users and Groups**, a shared vocabulary across platforms.  
- **Extensible**, supports enterprise and custom attributes without breaking the model.  
- **Lifecycle focus**, built for create, update, deactivate, and delete.  
- **Interoperable**, reduces bespoke code and speeds up integrations.

---

## ğŸŒ Why it matters (and how it helps you later)  
- Improves security by removing access on time and reducing shadow accounts.  
- Lowers integration cost by avoiding one-off connectors.  
- Gives you a foundation to read SCIM payloads, debug provisioning jobs, and answer interview questions about PATCH vs PUT, filters, and schema mapping.  
- Sets you up for upcoming topics: User schema, Group schema, CRUD, filtering, and troubleshooting.

---

## ğŸ› ï¸ Where itâ€™s used (flows + impact)
- **Joiner** â†’ HR adds employee â†’ IdP **POST /Users** â†’ app account **created automatically**, no IT tickets required.
- **Mover** â†’ Role/department change â†’ IdP **PATCH /Users** or **PATCH /Groups** â†’ roles, entitlements, and memberships **updated instantly**.
- **Leaver** â†’ Exit event â†’ IdP **DELETE /Users** or `active=false` â†’ accounts **disabled across apps the same day**, no orphaned access.

ğŸ‘‰ Without SCIM: weeks of manual tickets and scripts. With SCIM: minutes, fully auditable.


---

## ğŸ”— How this links to other concepts (learning bridges)
- **Core Objects (1.03)** â†’ Lifecycle acts on Users & Groups. Without these, lifecycle has no targets.
- **CRUD Operations (3.04)** â†’ JML maps directly to POST, PATCH/PUT, and DELETE or soft disable.
- **Failures (4.03)** â†’ Shows what happens when lifecycle fails (e.g., orphaned accounts left active).

- **Group schema (2.03)** â†’ how memberships are represented and updated.  
- **CRUD operations (3.04)** â†’ create, update, delete with real requests.

---

<details>
<summary><strong>âš™ï¸ Technical deep dive</strong> (click to expand)</summary>

**Example: minimal Create User request youâ€™d send to a SCIM `/Users` endpoint:**

```http
POST /scim/v2/Users
Content-Type: application/json

{
  "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"],
  "userName": "jdoe",
  "name": { "givenName": "John", "familyName": "Doe" },
  "emails": [{ "value": "jdoe@example.com", "primary": true }]
}
```

**Key fields to notice:**  
- `schemas` is required and identifies the object type.  
- `userName` must be unique and is often the login.  
- Multi-valued attributes like `emails` are common and must be mapped carefully.
</details>

---

<details>
<summary><strong>ğŸ¢ Real-world scenario</strong> (click to expand)</summary>
A company integrates Zoom with Entra ID via SCIM.  
- When HR hires a new employee, Entra ID **provisions** a Zoom account via `/Users`.  
- When the employee moves teams, Entra ID **updates** attributes via `PATCH`.  
- When the employee leaves, Entra ID **deprovisions** (disable or **deletes**) the account within minutes.  

This closes a major security gap and saves IT hundreds of hours annually.
</details>

---

<details>
<summary><strong>âŒ Common pitfalls</strong> (click to expand)</summary>

- Assuming all vendors support **PATCH** the same way.  
- Mapping `userName`, `id`, `externalId` incorrectly, which breaks correlation.  
- Filters that look standard but are not supported by the target app.  
- Deprovisioning tested last instead of first.
</details>

---

<details>
<summary><strong>âš ï¸ Risks & issues</strong> (click to expand)</summary>

| Risk | Impact | Mitigation |
| --- | --- | --- |
| Attribute mismatch | Failed or partial provisioning | Validate mappings, use test users first |
| Weak deprovisioning flow | Orphaned access, audit findings | Test disable and delete paths early |
| Partial vendor support | Surprises in PATCH or filters | Read vendor docs, build Postman tests |
</details>

---

<details>
<summary><strong>ğŸ“ Mini quiz</strong> (click to expand)</summary>

1) What problem does SCIM primarily solve?  
a) Single sign-on  
b) Standardized provisioning and deprovisioning  
c) Network encryption  
d) Role mining  

2) Which statement is most often vendor-specific?  
a) SCIM uses JSON  
b) `schemas` is required  
c) PATCH semantics and supported filters  
d) SCIM defines Users and Groups  

3) Which identifier is commonly unique for login and easy to mis-map?  
a) `meta.version`  
b) `userName`  
c) `displayName`  
d) `name.givenName`  
</details>

---

## ğŸ”— Navigation  
ğŸ‘‰ **Back:** [README](../1-foundations/README.md)  
ğŸ‘‰ **Next:** [1.02 SCIM Architecture](../1-foundations/1.02-scim-architecture.md)  

## âš ï¸ Risks & issues
| Risk | Impact | Mitigation |
|------|--------|------------|
| Mis-mapped attributes | Inconsistent accounts | Validate schema mapping in pilots |
| Weak deprovisioning | Orphaned accounts remain active | Test disable/delete paths in each app |
| Partial vendor support | Missing PATCH or filters | Check `/ServiceProviderConfig`, plan workarounds |
| Protocol confusion | Wrong tool for the job | Train teams on SCIM vs SSO protocols |

Real-world: A company kept 200+ Slack users active months after exit because SCIM wasnâ€™t connected. Audit flagged this as high-risk.
