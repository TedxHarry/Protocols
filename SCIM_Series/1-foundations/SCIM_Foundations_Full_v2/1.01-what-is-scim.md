# 🏆 Section 1.01 | Foundations | **What is SCIM?**

## 📌 At a glance
SCIM (System for Cross-domain Identity Management) is an **open standard** that lets identity systems and apps **create, update, and remove** users and groups in a consistent way. It lowers integration cost and reduces security risk by automating provisioning and deprovisioning.

## 📖 What is SCIM?
SCIM is an IETF standard that defines a **common schema** (RFC 7643) and a **REST/JSON protocol** (RFC 7644) for identity lifecycle actions across systems. Identity providers (Okta, Entra ID, SailPoint) call service providers (Slack, Zoom, GitHub) to keep accounts in sync for joiner, mover, and leaver events.

**🔄 One‑glance flow**
```
HR System → IdP (Okta / Entra / SailPoint) → SCIM API → SaaS App
   Hire         create/update user event       POST/PUT/PATCH     account created/updated
```

> **Note (worth keeping):** SCIM is defined by **RFC 7643 (Schema)** and **RFC 7644 (Protocol)**. Vendors vary in **PATCH** behavior, supported **filters**, and custom attributes — always test these early.

## ❗ Problem before SCIM
- Every app had a different user API (or none) → many fragile custom connectors
- Onboarding/offboarding was slow and inconsistent
- Deprovisioning failures left **orphaned accounts** and audit findings

## 🔑 Key characteristics
- **REST + JSON** → easy to implement and debug
- **Core objects: Users & Groups** → shared vocabulary across platforms
- **Extensible** → enterprise & custom attributes without breaking the model
- **Lifecycle focus** → create, update, deactivate, delete
- **Interoperable** → fewer bespoke integrations, faster rollouts

## 🌍 Why it matters (and how it helps you later)
- Improves security by removing access on time and reducing shadow accounts
- Cuts integration cost vs proprietary APIs
- Gives you the base to read SCIM payloads, debug provisioning jobs, and answer interview questions (PATCH vs PUT, filters, schema mapping)
- Sets you up for upcoming topics: **User schema**, **Group schema**, **CRUD**, **filters**, **troubleshooting**

## 🛠️ Where it’s used (flows + impact)
- **Joiner** → HR hires → IdP **POST /Users** → app account **created** in minutes (no manual tickets)
- **Mover** → Role change → IdP **PATCH /Users** and **PATCH /Groups** → roles & licenses **updated** without downtime
- **Leaver** → Termination → IdP **DELETE /Users** or **active=false** → access **removed** immediately; audit passes

## 🔗 How this links to other concepts (learning bridges)
- **SCIM Architecture (1.02)** → who talks to whom; you’ll use this model to trace failures
- **Core Objects (1.03)** → lifecycle acts on **Users** and **Groups**; know them before schemas
- **CRUD Operations (3.04)** → lifecycle maps directly to **POST / PATCH / DELETE**

## ⚙️ Technical deep dive
**Minimal Create User request to `/Users`:**
```http
POST /scim/v2/Users
Content-Type: application/json

{
  "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"],
  "userName": "jdoe",
  "name": { "givenName": "John", "familyName": "Doe" },
  "emails": [{ "value": "jdoe@example.com", "primary": true }]
}
```
**Key fields:** `schemas` (required type), `userName` (unique login), multi‑valued attributes (e.g., `emails`).

## 🏢 Real‑world scenario
A company integrates Zoom with Entra ID via SCIM. HR hires a developer. Entra ID **provisions** Zoom via `/Users`. When the developer moves teams, Entra ID **updates** attributes via `PATCH`. On exit, the account is **disabled or deleted** within minutes — closing security gaps and saving IT hundreds of hours annually.

## ❌ Common pitfalls
- Assuming PATCH works identically across vendors
- Mis‑mapping `userName`, `id`, `externalId` (breaks correlation)
- Using filters unsupported by the SP
- Testing deprovisioning last instead of first

## ⚠️ Risks & issues
| Risk | Impact | Mitigation |
|---|---|---|
| Attribute mismatch | Failed/partial provisioning | Validate mappings, test with pilots |
| Weak deprovisioning | Orphaned access, audit findings | Test disable & delete paths early |
| Partial vendor support | Surprises in PATCH or filters | Read docs, build Postman tests |

## 📝 Mini quiz
1) SCIM primarily solves: a) SSO b) **Provisioning/deprovisioning** c) Network encryption d) Role mining  
2) Which differs most by vendor? a) JSON b) **PATCH semantics/filters** c) Users/Groups exist d) `schemas` required  
3) Which field is commonly unique for login? a) meta.version b) **userName** c) displayName d) name.givenName

## 🔗 Navigation
👉 **Next:** [1.02 SCIM Architecture](./1.02-scim-architecture.md)
