# ğŸ† Section 1.03 | Foundations | **Core Objects: Users & Groups**

## ğŸ“Œ At a glance
SCIM centers on **Users** and **Groups**. Everything in lifecycle management operates on these two resource types.

## ğŸ“– What are SCIM core objects?
- **User**: an individual identity (employee, contractor, student) with attributes like `userName`, `name`, `emails`
- **Group**: a collection of users; carries a `displayName` and a list of member references

> **Note (worth keeping):** Users & Groups are **mandatory** resources. Extensions add fields; they donâ€™t replace the core.

## ğŸ”‘ Key characteristics
- **User** has identifiers and multiâ€‘valued attributes (emails/phones)
- **Group** has `displayName` and `members` (user references)
- **References** link group members to user `id`s
- **Extensible** via enterprise/custom schemas

## ğŸŒ Why it matters (and how it helps you later)
- Lifecycle events (joiner/mover/leaver) **act on Users/Groups**
- Correct mapping for these objects prevents failed provisioning
- Sets you up for schema deep dives in Section 2

## ğŸ› ï¸ Where itâ€™s used (flows + impact)
- **Create User** â†’ IdP **POST /Users** â†’ app account **created**
- **Add to Group** â†’ IdP **PATCH /Groups** â†’ access **granted** via memberships
- **Remove from Group** â†’ IdP **PATCH /Groups** â†’ access **revoked**

## ğŸ”— How this links to other concepts (learning bridges)
- **User Schema (2.02)** â†’ required vs optional fields you must map
- **Group Schema (2.03)** â†’ how membership references are represented
- **CRUD (3.04)** â†’ concrete requests that change Users & Groups

## âš™ï¸ Technical deep dive
**Minimal User**
```json
{
  "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"],
  "userName": "jdoe",
  "name": {"givenName":"John","familyName":"Doe"},
  "emails": [{"value":"jdoe@example.com","primary":true}]
}
```
**Minimal Group**
```json
{
  "schemas": ["urn:ietf:params:scim:schemas:core:2.0:Group"],
  "displayName": "Engineering",
  "members": [
    {"value": "2819c223-7f76-453a-919d-413861904646", "$ref": "/Users/2819c223-7f76-453a-919d-413861904646"}
  ]
}
```

## ğŸ¢ Realâ€‘world scenario
A university provisions students into Google Workspace as **Users** and assigns them to â€œClass of 2025â€ **Group**. On graduation, users are **disabled** and **removed** from groups to revoke access.

## âŒ Common pitfalls
- Missing `userName` (required for most servers)
- Case sensitivity on `userName` causing duplicates
- Assuming full group support when only partial is implemented
- Confusing `id` (serverâ€‘generated) with `externalId` (clientâ€‘supplied)

## âš ï¸ Risks & issues
| Risk | Impact | Mitigation |
|---|---|---|
| Missing required fields | Create fails | Validate against schema |
| Bad membership refs | Broken access | Verify member `id` values |
| Orphaned references | Inconsistent data | Remove memberships on deprovision |

## ğŸ“ Mini quiz
1) Mandatory fields: User= **userName**, Group= **displayName**  
2) Group membership references point to: a) userName b) **User id** c) displayName d) email  
3) True/False: Groups are optional in SCIM. **False**

## ğŸ”— Navigation
ğŸ‘‰ **Back:** [1.02 Architecture](./1.02-scim-architecture.md) Â· ğŸ‘‰ **Next:** [1.04 SCIM vs LDAP vs Proprietary APIs](./1.04-scim-vs-ldap.md)
