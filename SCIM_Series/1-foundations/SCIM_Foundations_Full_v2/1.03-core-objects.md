# 🏆 Section 1.03 | Foundations | **Core Objects: Users & Groups**

## 📌 At a glance
SCIM centers on **Users** and **Groups**. Everything in lifecycle management operates on these two resource types.

## 📖 What are SCIM core objects?
- **User**: an individual identity (employee, contractor, student) with attributes like `userName`, `name`, `emails`
- **Group**: a collection of users; carries a `displayName` and a list of member references

> **Note (worth keeping):** Users & Groups are **mandatory** resources. Extensions add fields; they don’t replace the core.

## 🔑 Key characteristics
- **User** has identifiers and multi‑valued attributes (emails/phones)
- **Group** has `displayName` and `members` (user references)
- **References** link group members to user `id`s
- **Extensible** via enterprise/custom schemas

## 🌍 Why it matters (and how it helps you later)
- Lifecycle events (joiner/mover/leaver) **act on Users/Groups**
- Correct mapping for these objects prevents failed provisioning
- Sets you up for schema deep dives in Section 2

## 🛠️ Where it’s used (flows + impact)
- **Create User** → IdP **POST /Users** → app account **created**
- **Add to Group** → IdP **PATCH /Groups** → access **granted** via memberships
- **Remove from Group** → IdP **PATCH /Groups** → access **revoked**

## 🔗 How this links to other concepts (learning bridges)
- **User Schema (2.02)** → required vs optional fields you must map
- **Group Schema (2.03)** → how membership references are represented
- **CRUD (3.04)** → concrete requests that change Users & Groups

## ⚙️ Technical deep dive
**Minimal User**
```json
{
  "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"],
  "userName": "jdoe",
  "name": {"givenName":"John","familyName":"Doe"},
  "emails": [{"value":"jdoe@example.com","primary":true}]
}
```
**Minimal Group**
```json
{
  "schemas": ["urn:ietf:params:scim:schemas:core:2.0:Group"],
  "displayName": "Engineering",
  "members": [
    {"value": "2819c223-7f76-453a-919d-413861904646", "$ref": "/Users/2819c223-7f76-453a-919d-413861904646"}
  ]
}
```

## 🏢 Real‑world scenario
A university provisions students into Google Workspace as **Users** and assigns them to “Class of 2025” **Group**. On graduation, users are **disabled** and **removed** from groups to revoke access.

## ❌ Common pitfalls
- Missing `userName` (required for most servers)
- Case sensitivity on `userName` causing duplicates
- Assuming full group support when only partial is implemented
- Confusing `id` (server‑generated) with `externalId` (client‑supplied)

## ⚠️ Risks & issues
| Risk | Impact | Mitigation |
|---|---|---|
| Missing required fields | Create fails | Validate against schema |
| Bad membership refs | Broken access | Verify member `id` values |
| Orphaned references | Inconsistent data | Remove memberships on deprovision |

## 📝 Mini quiz
1) Mandatory fields: User= **userName**, Group= **displayName**  
2) Group membership references point to: a) userName b) **User id** c) displayName d) email  
3) True/False: Groups are optional in SCIM. **False**

## 🔗 Navigation
👉 **Back:** [1.02 Architecture](./1.02-scim-architecture.md) · 👉 **Next:** [1.04 SCIM vs LDAP vs Proprietary APIs](./1.04-scim-vs-ldap.md)
