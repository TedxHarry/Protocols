# ğŸ† Section 1.06 | Foundations | **Where SCIM fits in IAM (Provisioning vs Authentication Protocols)**

## ğŸ“Œ At a glance
SCIM is **provisioning**. SAML/OIDC are **authentication**. OAuth2 is **authorization**. They work together but solve different problems.

## ğŸ“– What is SCIMâ€™s role in IAM?
- **SCIM** â†’ lifecycle management: create/update/disable users & groups across apps
- **SAML** â†’ enterprise SSO via XML assertions (who you are)
- **OIDC** â†’ modern SSO with JWTs (who you are)
- **OAuth2** â†’ tokens to access APIs/resources (what you can do)

**Mental map**
```
SCIM â†’ Provisioning (accounts & attributes)
SAML/OIDC â†’ Authentication (sign-in)
OAuth2 â†’ Authorization (API/resource access)
```

> **Note (worth keeping):** A user may be **provisioned by SCIM** days before they **authenticate via SAML/OIDC** for the first time.

## ğŸ”‘ Key characteristics
- **Provisioning vs Authentication** â†’ lifecycle vs login
- **Async vs Realâ€‘time** â†’ SCIM follows HR/IAM events; SSO happens at signâ€‘in
- **Complementary** â†’ SCIM prepares accounts; SSO controls entry; OAuth2 controls actions

## ğŸŒ Why it matters (and how it helps you later)
- Prevents design mistakes (trying to â€œprovision with SAMLâ€)
- Clarifies vendor docs where SCIM and SSO are configured together
- Gives a crisp interview answer to â€œIs SCIM an authentication protocol?â€ (No.)

## ğŸ› ï¸ Where itâ€™s used (flows + impact)
- **SCIM** â†’ Okta **creates** Slack account ahead of dayâ€‘one
- **SAML** â†’ User **logs in** to Slack via enterprise SSO
- **OAuth2** â†’ Slack **access token** governs API actions

## ğŸ”— How this links to other concepts (learning bridges)
- **What is SCIM? (1.01)** â†’ provisioning definition
- **Lifecycle (1.05)** â†’ JML events that trigger SCIM
- **Auth tracks (SAML/OIDC)** â†’ parallel learning path for signâ€‘in

## âš™ï¸ Technical deep dive
**SCIM (Provisioning)**
```http
POST /scim/v2/Users
{ "userName":"jdoe","active":true }
```
**SAML (Authentication)**
```xml
<saml:Assertion><saml:Subject>jdoe@example.com</saml:Subject></saml:Assertion>
```
**OIDC (ID token)**
```json
{"iss":"https://login.microsoftonline.com/","sub":"123","email":"jdoe@example.com"}
```
**OAuth2 (Access token)**
```json
{"access_token":"eyJhbGciOi...","scope":"repo read:user","expires_in":3600}
```

## ğŸ¢ Realâ€‘world scenario
Entra ID **provisions** a Slack account via SCIM ahead of start date. On day one, the user **authenticates** via SAML SSO. When a script calls Slack APIs, OAuth2 **access tokens** control what the script can do.

## âŒ Common pitfalls
- Treating SCIM as login tech
- Using SAML/OIDC to â€œfakeâ€ provisioning
- Assuming OAuth2 overlaps with SCIM

## âš ï¸ Risks & issues
| Risk | Impact | Mitigation |
|---|---|---|
| Protocol confusion | Wrong design | Map lifecycle vs login vs access early |
| Missing provisioning | SSO succeeds but user absent in app | Validate SCIM before enabling SSO |
| Overlapping configs | Setup errors | Document SCIM + SSO flows separately |

## ğŸ“ Mini quiz
1) Which provisions accounts? **SCIM**  
2) Which handles signâ€‘in? **SAML/OIDC**  
3) Which issues access tokens? **OAuth2**

## ğŸ”— Navigation
ğŸ‘‰ **Back:** [1.05 Lifecycle Operations](./1.05-lifecycle-operations.md) Â· ğŸ‘‰ **Next:** [2.01 Core Schema Overview](../2-core-schema/2.01-core-schema-overview.md)
