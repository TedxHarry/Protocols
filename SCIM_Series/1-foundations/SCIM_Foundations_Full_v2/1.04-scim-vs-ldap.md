# 🏆 Section 1.04 | Foundations | **SCIM vs LDAP vs Proprietary APIs**

## 📌 At a glance
SCIM, LDAP, and proprietary APIs all move identity data — but they solve **different problems**.

## 📖 What is the difference?
- **SCIM** → Open standard for **cross‑domain provisioning** (REST/JSON, RFC 7643/7644)
- **LDAP** → Protocol for querying/updating **directory services** (e.g., AD, OpenLDAP)
- **Proprietary APIs** → One‑off vendor interfaces (SOAP/REST) that require custom connectors

> **Note (worth keeping):** LDAP and SCIM aren’t competitors. LDAP addresses **directory operations**; SCIM standardizes **provisioning across apps**. Use proprietary APIs only when SCIM is unavailable.

## 🔑 Key characteristics
- **SCIM**: cloud‑friendly, lifecycle‑focused, standardized
- **LDAP**: hierarchical directory model, schema complexity, non‑JSON
- **Proprietary**: vendor‑specific, higher maintenance, inconsistent semantics

## 🌍 Why it matters (and how it helps you later)
- Clears the “Is SCIM the new LDAP?” confusion
- Helps you choose the right integration path (SCIM first, LDAP for directory lookups, proprietary only as fallback)
- Prepares you for real‑world migrations away from bespoke connectors

## 🛠️ Where it’s used (flows + impact)
- **SCIM** → Okta **provisions** users to Slack/Zoom; fast, consistent
- **LDAP** → Apps **query** AD groups/attributes for authorization decisions
- **Proprietary** → Legacy HR systems integrated until a SCIM bridge exists

## 🔗 How this links to other concepts (learning bridges)
- **Architecture (1.02)** → explains why SCIM is client→server between IdP and app
- **Lifecycle (1.05)** → shows SCIM as the engine for JML flows
- **CRUD (3.04)** → contrasts REST/JSON with LDAP modify/LDIF operations

## ⚙️ Technical deep dive
**SCIM Create (REST/JSON)**
```http
POST /scim/v2/Users
Content-Type: application/json

{ "userName":"jdoe","name":{"givenName":"John","familyName":"Doe"} }
```
**LDAP Add (LDIF)**
```ldif
dn: uid=jdoe,ou=People,dc=example,dc=com
objectClass: inetOrgPerson
cn: John Doe
sn: Doe
uid: jdoe
```
**Proprietary (SOAP example)**
```xml
<createUser><username>jdoe</username><firstName>John</firstName><lastName>Doe</lastName></createUser>
```

## 🏢 Real‑world scenario
An enterprise uses SCIM for Slack/Zoom provisioning, LDAP for on‑prem AD lookups, and a proprietary SOAP HR API until a SCIM adapter is available.

## ❌ Common pitfalls
- Treating SCIM as a directory replacement
- Choosing proprietary APIs when SCIM exists
- Underestimating LDAP schema complexity vs JSON payloads

## ⚠️ Risks & issues
| Risk | Impact | Mitigation |
|---|---|---|
| Wrong protocol choice | Costly/fragile integration | Prefer SCIM; use LDAP only for directory operations |
| Vendor lock‑in | High maintenance | Plan migration to SCIM |
| Team confusion | Design errors & delays | Teach SCIM vs LDAP vs auth protocols clearly |

## 📝 Mini quiz
1) Cross‑domain provisioning is handled by: **SCIM**  
2) Directory queries are typically via: **LDAP**  
3) True/False: SCIM replaces LDAP in all cases. **False**

## 🔗 Navigation
👉 **Back:** [1.03 Core Objects](./1.03-core-objects.md) · 👉 **Next:** [1.05 Lifecycle Operations](./1.05-lifecycle-operations.md)
