# 🏆 Section 5.04 | Real-world Implementation | “Vendor Specific Notes”

---

## 📌 At a glance
Different vendors (Azure AD, Okta, Ping, SailPoint, SaaS providers) implement SCIM with **quirks and variations**.  
Documenting these vendor-specific notes is essential for smooth integrations.  

---

## 📖 What are Vendor Specific Notes?
They are **implementation details, quirks, and deviations** each vendor introduces in their SCIM service.  
Knowing them upfront prevents wasted effort and failed provisioning jobs.

> **Notes**
- SCIM spec leaves flexibility, so vendors interpret features differently.  
- `/ServiceProviderConfig` and testing reveal actual support.  
- Limitations often include PATCH, Bulk, filters, and schema extensions.  

---

## 🔑 Key characteristics
- **Azure AD** → Requires `externalId`, sometimes ignores PATCH if attribute readOnly.  
- **Okta** → SCIM client very strict, enforces schema, retries on errors.  
- **SailPoint** → Connector-driven; may wrap SCIM differently.  
- **Ping Identity** → Often used as proxy to SaaS apps.  
- **SaaS apps** → Each has quirks (Slack, Salesforce, Zoom).  
- **Custom extensions** → Vendors define enterprise attributes differently.  

---

## 🌍 Why it matters (and how it helps you later)
- Vendor quirks are **the most common blockers in production**.  
- Anticipating them saves weeks of trial and error.  
- Helps you debug integration failures faster.  
- Makes you audit-ready by documenting expected vs actual vendor behavior.  

---

## 🛠️ Where it’s used (flows + impact)

### Example Flow
```
Okta → SCIM /Users → SaaS App
```
- If vendor requires `externalId` → must map it from HR.  
- If filters unsupported → sync jobs break.  

Impact: Without knowing quirks, jobs fail and create audit risks.  

---

## 🔗 How this links to other concepts
- [5.03 Troubleshooting](5.03-troubleshooting.md) → Many troubleshooting cases trace back to vendor quirks.  
- [4.04 Vendor Limitations](../4-security-error-handling/4.04-vendor-limitations.md) → Vendor-specific notes expand on these general limitations.  
- [6.01 SCIM 3.0](../6-advanced-future/6.01-scim-3.0.md) → Future versions aim to reduce vendor divergence.  

---

## ⚙️ Technical deep dive

### Azure AD
- Requires `externalId`.  
- PATCH only works on mutable attributes.  
- Deletion often implemented as `PATCH active:false`.  

### Okta
- Retries failed requests automatically.  
- Very strict schema validation → rejects unknown attributes.  
- Bulk unsupported.  

### Slack
- Requires email as unique userName.  
- Groups mapped as "user groups", not SCIM `/Groups`.  

### Salesforce
- Supports `/Users` but often with custom extensions.  
- Filtering limited to `eq`.  

### Zoom
- Requires user `type` attribute for accounts.  
- Deprovision = PATCH `active:false`.  

---

## 🏢 Real-world scenario
A customer integrated Azure AD with Slack via SCIM.  

- Azure AD sent `PATCH /Users` with attributes Slack did not support.  
- Slack rejected requests with 400 invalidValue.  
- Engineers built **attribute filtering** in Azure mappings.  

**Impact:** Prevented repeated provisioning failures and stabilized sync.  

---

## ❌ Common pitfalls
- Assuming all vendors support Bulk.  
- Forgetting `externalId` mapping in Azure AD.  
- Sending unsupported attributes to strict vendors like Okta.  
- Confusing Slack’s user groups with SCIM groups.  
- Not testing schema extensions early.  

---

## ⚠️ Risks & issues

| Risk | Impact | Mitigation |
|------|--------|------------|
| Vendor rejects attributes | Failed provisioning | Filter attributes in IdP mappings |
| Missing externalId | Duplicate users | Always map stable externalId |
| Bulk unsupported | Slow sync | Use batched POST calls |
| Filter limits | Query failures | Restrict to supported operators |
| Misaligned groups | Wrong entitlements | Verify group model per vendor |

**Real-world:** A university’s Salesforce SCIM integration failed when filters used `co`. Switching to `eq` fixed it instantly.  

---

## 📝 Mini quiz
1. Which vendor requires `externalId` in most SCIM calls?  
   a) Slack  
   b) Azure AD  
   c) Zoom  
   d) SailPoint  

2. Which vendor is known for strict schema validation and retries?  
   a) Okta  
   b) Ping Identity  
   c) Salesforce  
   d) Zoom  

3. Scenario: You are integrating Slack with SCIM. What’s a key limitation?  
   a) Bulk not supported  
   b) Groups mapped differently than SCIM standard  
   c) Requires PATCH active:false  
   d) Needs MTLS only  

---

## 🔗 Navigation
👉 Back: [5.03 Troubleshooting](5.03-troubleshooting.md)  
👉 Next: [6.01 SCIM 3.0](../6-advanced-future/6.01-scim-3.0.md)  

➡️ Next, we’ll explore **SCIM 3.0 (6.01)** to see how the standard is evolving to close vendor gaps.
